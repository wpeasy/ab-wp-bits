const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./assets/MenuQueriesSettings-Ba-Z88nE.js","./assets/vendor-DQEwB2VO.js","./assets/shared-x0W_-Tcr.js","./shared.css","./MenuQueriesSettings.css","./assets/MenuQueriesInstructions-DBN9_LTt.js","./MenuQueriesInstructions.css","./assets/MenuConditionsInstructions-BHwOuhzs.js","./MenuConditionsInstructions.css"])))=>i.map(i=>d[i]);
import{p as W,a as J,f as y,c as I,s as q,i as z,t as Z,r as X,k as l,l as F,E as ae,n as N,q as H,v as G,z as D,B as g,g as o,u as A,m as B,x as oe,w as ee,F as se,b as re,e as ne,G as le}from"./assets/vendor-DQEwB2VO.js";import{S as ie,C as de,B as Q,a as ce,T as te,b as ue,c as ve,V as me,d as U,e as ge}from"./assets/shared-x0W_-Tcr.js";const{apiUrl:fe,nonce:pe}=window.abWpBitsData;async function _e(T,i){if(!(await fetch(`${fe}/modules/${T}/toggle`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":pe},body:JSON.stringify({enabled:i})})).ok)throw new Error("Failed to toggle module")}var he=y('<div class="wpea-module-logo svelte-152yrzx"><!></div>'),be=y("<!> <!>",1),we=y('<div class="wpea-module-card svelte-152yrzx"><div class="wpea-module-switch svelte-152yrzx"><!></div> <div class="wpea-module-info svelte-152yrzx"><!> <div class="wpea-module-details svelte-152yrzx"><h3 class="wpea-heading wpea-heading--sm svelte-152yrzx"> </h3> <p class="wpea-text-muted wpea-text-sm svelte-152yrzx"> </p></div></div> <!></div>');function ye(T,i){W(i,!0);let a=J(i,"module",7);function p(n){i.onToggle(a().id,n)}function r(){i.onNavigate(a().id,"settings")}function _(){i.onNavigate(a().id,"instructions")}var c=we(),u=I(c),S=I(u);ie(S,{get id(){return`module-${a().id??""}`},onchange:p,get checked(){return a().enabled},set checked(n){a().enabled=n}});var E=q(u,2),d=I(E);{var v=n=>{var x=he(),b=I(x);ae(b,()=>a().logo),l(n,x)};z(d,n=>{a().logo&&n(v)})}var h=q(d,2),t=I(h),e=I(t),s=q(t,2),f=I(s),P=q(E,2);{var O=n=>{de(n,{children:(x,b)=>{var M=be(),L=N(M);Q(L,{variant:"secondary",size:"s",onclick:r,children:(m,w)=>{var $=H("Settings");l(m,$)},$$slots:{default:!0}});var k=q(L,2);Q(k,{variant:"secondary",size:"s",onclick:_,children:(m,w)=>{var $=H("Instructions");l(m,$)},$$slots:{default:!0}}),l(x,M)},$$slots:{default:!0}})};z(P,n=>{a().has_settings&&a().enabled&&n(O)})}Z(()=>{X(e,a().name),X(f,a().description)}),l(T,c),F()}var Te=y('<div class="wpea-card__title">Module Manager</div>'),Se=y('<p class="wpea-text-muted">No modules in this category.</p>'),xe=y('<div class="module-manager svelte-16la922"><!> <!></div>'),ke=y("<!> <!>",1);function Ee(T,i){W(i,!0);let a=J(i,"modules",31,()=>G([])),p=D(G([])),r=D("all"),_=A(()=>["all",...new Set(a().map(t=>t.category))]),c=A(()=>o(_).map(t=>({id:t,label:t==="all"?"All":t}))),u=A(()=>(o(r)==="all"?a():a().filter(t=>t.category===o(r))).toSorted((t,e)=>t.name.localeCompare(e.name)));function S(t,e="success"){const s=`toast-${Date.now()}`;g(p,[...o(p),{id:s,message:t,variant:e,duration:3e3}],!0)}async function E(t,e){try{await _e(t,e);const s=a().findIndex(f=>f.id===t);s!==-1&&a(a()[s].enabled=e,!0),S("Settings saved","success")}catch{S("Error saving settings","danger")}}var d=ke(),v=N(d);ce(v,{header:e=>{var s=Te();l(e,s)},children:(e,s)=>{var f=xe(),P=I(f);te(P,{get tabs(){return o(c)},variant:"secondary",get activeTab(){return o(r)},set activeTab(n){g(r,n,!0)}});var O=q(P,2);ue(O,{children:(n,x)=>{var b=B(),M=N(b);{var L=m=>{var w=Se();l(m,w)},k=m=>{var w=B(),$=N(w);oe($,17,()=>o(u),R=>R.id,(R,C)=>{ye(R,{get module(){return o(C)},onToggle:E,get onNavigate(){return i.onNavigate}})}),l(m,w)};z(M,m=>{o(u).length===0?m(L):m(k,!1)})}l(n,b)},$$slots:{default:!0}}),l(e,f)},$$slots:{header:!0,default:!0}});var h=q(v,2);ve(h,{position:"top-right",get toasts(){return o(p)},set toasts(t){g(p,t,!0)}}),l(T,d),F()}const Pe="modulepreload",Me=function(T,i){return new URL(T,i).href},Y={},K=function(i,a,p){let r=Promise.resolve();if(a&&a.length>0){let E=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),S=u?.nonce||u?.getAttribute("nonce");r=E(a.map(d=>{if(d=Me(d,p),d in Y)return;Y[d]=!0;const v=d.endsWith(".css"),h=v?'[rel="stylesheet"]':"";if(p)for(let e=c.length-1;e>=0;e--){const s=c[e];if(s.href===d&&(!v||s.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${h}`))return;const t=document.createElement("link");if(t.rel=v?"stylesheet":Pe,v||(t.as="script"),t.crossOrigin="",t.href=d,S&&t.setAttribute("nonce",S),document.head.appendChild(t),v)return new Promise((e,s)=>{t.addEventListener("load",e),t.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${d}`)))})}))}function _(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&_(u.reason);return i().catch(_)})};var Ie=y('<p class="wpea-text-muted">Loading...</p>'),Ce=y('<p class="wpea-text-danger">Failed to load content. Please try again.</p>'),Ne=y('<p class="wpea-text-muted">This module has no configurable settings.</p>'),$e=y('<p class="wpea-text-muted">No content available.</p>'),ze=y('<div class="module-settings"><!> <div class="module-settings__content svelte-9lkkb6"><!></div></div>');function Le(T,i){W(i,!0);let a=J(i,"activeSubTab",15,"settings");const p=[{id:"settings",label:"Settings"},{id:"instructions",label:"Instructions"}];let r=D(null),_=D(!1),c=D(!1);async function u(){g(_,!0),g(c,!1),g(r,null);try{switch(`${i.moduleId}-${a()}`){case"menu-queries-settings":const s=await K(()=>import("./assets/MenuQueriesSettings-Ba-Z88nE.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url);g(r,s.default,!0);break;case"menu-queries-instructions":const f=await K(()=>import("./assets/MenuQueriesInstructions-DBN9_LTt.js"),__vite__mapDeps([5,1,2,3,6]),import.meta.url);g(r,f.default,!0);break;case"menu-conditions-settings":g(r,null);break;case"menu-conditions-instructions":const P=await K(()=>import("./assets/MenuConditionsInstructions-BHwOuhzs.js"),__vite__mapDeps([7,1,2,3,8]),import.meta.url);g(r,P.default,!0);break;default:g(r,null)}}catch(e){console.error("Failed to load component:",e),g(c,!0)}finally{g(_,!1)}}ee(()=>{u()});var S=ze(),E=I(S);te(E,{get tabs(){return p},variant:"secondary",get activeTab(){return a()},set activeTab(e){a(e)}});var d=q(E,2),v=I(d);{var h=e=>{var s=Ie();l(e,s)},t=e=>{var s=B(),f=N(s);{var P=n=>{var x=Ce();l(n,x)},O=n=>{var x=B(),b=N(x);{var M=k=>{const m=A(()=>o(r));var w=B(),$=N(w);se($,()=>o(m),(R,C)=>{C(R,{})}),l(k,w)},L=k=>{var m=B(),w=N(m);{var $=C=>{var j=Ne();l(C,j)},R=C=>{var j=$e();l(C,j)};z(w,C=>{i.moduleId==="menu-conditions"&&a()==="settings"?C($):C(R,!1)},!0)}l(k,m)};z(b,k=>{o(r)?k(M):k(L,!1)},!0)}l(n,x)};z(f,n=>{o(c)?n(P):n(O,!1)},!0)}l(e,s)};z(v,e=>{o(_)?e(h):e(t,!1)})}l(T,S),F()}var qe=y("<div><!></div>");function Ae(T,i){W(i,!0);const a=window.abWpBitsData.modules;let p=D(G(a)),r=D("modules"),_=D("settings"),c=A(()=>U.themeMode==="light"?"light only":U.themeMode==="dark"?"dark only":"light dark");ee(()=>{document.documentElement.style.setProperty("color-scheme",o(c))});let u=A(()=>o(p).filter(e=>e.enabled&&e.has_settings).toSorted((e,s)=>e.name.localeCompare(s.name))),S=A(()=>[{id:"modules",label:"Module Manager",separator:!0},...o(u).map(e=>({id:`module-${e.id}`,label:e.name}))]);function E(e,s){g(r,`module-${e}`),g(_,s,!0)}let d=A(()=>o(r).startsWith("module-")?o(r).replace("module-",""):null);var v=qe();let h;var t=I(v);me(t,{get tabs(){return o(S)},get activeTab(){return o(r)},set activeTab(f){g(r,f,!0)},actions:f=>{ge(f,{})},content:f=>{var P=B(),O=N(P);{var n=b=>{Ee(b,{onNavigate:E,get modules(){return o(p)},set modules(M){g(p,M,!0)}})},x=b=>{var M=B(),L=N(M);{var k=m=>{Le(m,{get moduleId(){return o(d)},get activeSubTab(){return o(_)},set activeSubTab(w){g(_,w,!0)}})};z(L,m=>{o(d)&&m(k)},!0)}l(b,M)};z(O,b=>{o(r)==="modules"?b(n):b(x,!1)})}l(f,P)},$$slots:{actions:!0,content:!0}}),Z(()=>{h=re(v,1,"ab-wp-bits-admin wpea svelte-1n46o8q",null,h,{"ab-wp-bits-admin--compact":U.compactMode}),ne(v,`color-scheme: ${o(c)??""};`)}),l(T,v),F()}const V=document.getElementById("ab-wp-bits-app");V&&!V.dataset.mounted&&(V.dataset.mounted="true",le(Ae,{target:V}));
