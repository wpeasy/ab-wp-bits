(function(){"use strict";var Fn=document.createElement("style");Fn.textContent=`.ab-wp-bits-admin--compact{--wpea-space--xs: .2rem;--wpea-space--sm: .35rem;--wpea-space--md: .6rem;--wpea-space--lg: .9rem;--wpea-space--xl: 1.2rem;--wpea-text--xs: .7rem;--wpea-text--sm: .775rem;--wpea-text--md: .85rem;--wpea-text--lg: .95rem;--wpea-text--xl: 1.1rem;font-size:var(--wpea-text--md);line-height:1.4}.wpea-card{border:1px solid var(--wpea-surface--border, rgba(255, 255, 255, .16))}.wpea-popover--hover-only:focus-within .wpea-popover__content{opacity:0!important;visibility:hidden!important}.wpea-popover--hover-only:hover .wpea-popover__content{opacity:1!important;visibility:visible!important}.wpea-multiselect__input{color-scheme:inherit;background:transparent!important;color:inherit!important}.conditions-repeater.svelte-1kvudr9{display:flex;flex-direction:column;gap:var(--wpea-space--md)}.condition-row.svelte-1kvudr9{display:flex;flex-direction:column;gap:var(--wpea-space--sm)}.condition-fields.svelte-1kvudr9{display:grid;grid-template-columns:auto 1fr auto;gap:var(--wpea-space--md);align-items:start}.condition-operator.svelte-1kvudr9{min-width:140px}.condition-capability.svelte-1kvudr9{display:flex;flex-direction:column;gap:var(--wpea-space--xs);width:100%}.condition-relation.svelte-1kvudr9{display:flex;justify-content:center;padding:var(--wpea-space--xs) 0}@container (max-width: 600px){.condition-fields.svelte-1kvudr9{grid-template-columns:1fr}.condition-operator.svelte-1kvudr9,.condition-capability.svelte-1kvudr9,.condition-remove.svelte-1kvudr9{width:100%}}.wpea-filterable-list.svelte-1rjctk9{display:flex;flex-direction:column;gap:var(--wpea-space--sm);border:1px solid var(--wpea-surface--border);border-radius:var(--wpea-radius--md);background:var(--wpea-surface--bg)}.wpea-filterable-list__search.svelte-1rjctk9{padding:var(--wpea-space--sm);border-bottom:1px solid var(--wpea-surface--border)}.wpea-filterable-list__items.svelte-1rjctk9{max-height:300px;overflow-y:auto}.wpea-filterable-list__item.svelte-1rjctk9{padding:var(--wpea-space--sm) var(--wpea-space--md);border-bottom:1px solid var(--wpea-surface--divider)}.wpea-filterable-list__item.svelte-1rjctk9:last-child{border-bottom:none}.wpea-filterable-list__item.svelte-1rjctk9:hover{background:var(--wpea-surface--panel)}.wpea-filterable-list__empty.svelte-1rjctk9{padding:var(--wpea-space--md);text-align:center;color:var(--wpea-color--text-muted)}.user-result.svelte-osae4r{padding:var(--wpea-space--md);border-radius:var(--wpea-radius--md);border:2px solid}.user-result--visible.svelte-osae4r{background:color-mix(in oklab,var(--wpea-color--success),transparent 85%);border-color:var(--wpea-color--success);color:var(--wpea-surface--text)}.user-result--hidden.svelte-osae4r{background:color-mix(in oklab,var(--wpea-color--danger),transparent 85%);border-color:var(--wpea-color--danger);color:var(--wpea-surface--text)}.wpea-modal--large .wpea-modal__container{min-height:80vh!important}
/*$vite$:1*/`,document.head.appendChild(Fn);const cn=!1;var jn=Array.isArray,Zr=Array.prototype.indexOf,fn=Array.from,Qr=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,$r=Object.getOwnPropertyDescriptors,ea=Object.prototype,ta=Array.prototype,Bn=Object.getPrototypeOf,Un=Object.isExtensible;function na(e){return typeof e=="function"}const ht=()=>{};function ra(e){for(var t=0;t<e.length;t++)e[t]()}function zn(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const te=2,dn=4,vn=8,aa=1<<24,Te=16,Be=32,tt=64,qt=128,Ee=512,re=1024,ce=2048,Ue=4096,_e=8192,ze=16384,Vt=32768,Xe=65536,qn=1<<17,Vn=1<<18,pt=1<<19,ia=1<<20,nt=32768,_n=1<<21,hn=1<<22,Ze=1<<23,Mt=Symbol("$state"),sa=Symbol("legacy props"),la=Symbol(""),mt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function oa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ua(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ca(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(e){throw new Error("https://svelte.dev/e/effect_orphan")}function va(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function _a(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ha(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ma(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function wa(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Hn=1,Wn=2,Yn=4,ga=8,ba=16,ya=1,ka=4,xa=8,Ea=16,Ca=4,Kn=1,Sa=2,ae=Symbol(),Aa="http://www.w3.org/1999/xhtml";function Ta(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Gn(e){return e===this.v}function Ma(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Jn(e){return!Ma(e,this.v)}let Na=!1,he=null;function wt(e){he=e}function Me(e,t=!1,n){he={p:he,i:!1,c:null,e:null,s:e,x:null,l:null}}function Ne(e){var t=he,n=t.e;if(n!==null){t.e=null;for(var r of n)hr(r)}return t.i=!0,he=t.p,{}}function Xn(){return!0}let rt=[];function Zn(){var e=rt;rt=[],ra(e)}function at(e){if(rt.length===0&&!Nt){var t=rt;queueMicrotask(()=>{t===rt&&Zn()})}rt.push(e)}function La(){for(;rt.length>0;)Zn()}function Qn(e){var t=V;if(t===null)return B.f|=Ze,e;if((t.f&Vt)===0){if((t.f&qt)===0)throw e;t.b.error(e)}else gt(e,t)}function gt(e,t){for(;t!==null;){if((t.f&qt)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Ht=new Set;let H=null,Wt=null,ge=null,be=[],Yt=null,pn=!1,Nt=!1;class Le{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#o=null;#i=[];#a=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){be=[],Wt=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)this.#s(r,n);this.is_fork||this.#c(),this.is_deferred()?(this.#l(n.effects),this.#l(n.render_effects),this.#l(n.block_effects)):(Wt=this,H=null,er(n.render_effects),er(n.effects),Wt=null,this.#o?.resolve()),ge=null}#s(t,n){t.f^=re;for(var r=t.first;r!==null;){var a=r.f,i=(a&(Be|tt))!==0,l=i&&(a&re)!==0,c=l||(a&_e)!==0||this.skipped_effects.has(r);if((r.f&qt)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!c&&r.fn!==null){i?r.f^=re:(a&dn)!==0?n.effects.push(r):It(r)&&((r.f&Te)!==0&&n.block_effects.push(r),Rt(r));var s=r.first;if(s!==null){r=s;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#l(n.effects),this.#l(n.render_effects),this.#l(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#l(t){for(const n of t)((n.f&ce)!==0?this.#i:this.#a).push(n),this.#u(n.deps),se(n,re)}#u(t){if(t!==null)for(const n of t)(n.f&te)===0||(n.f&nt)===0||(n.f^=nt,this.#u(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&Ze)===0&&(this.current.set(t,t.v),ge?.set(t,t.v))}activate(){H=this,this.apply()}deactivate(){H===this&&(H=null,ge=null)}flush(){if(this.activate(),be.length>0){if($n(),H!==null&&H!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#c(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(Ht.size>1){this.previous.clear();var t=ge,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of Ht){if(i===this){n=!1;continue}const l=[];for(const[s,u]of this.current){if(i.current.has(s))if(n&&u!==i.current.get(s))i.current.set(s,u);else continue;l.push(s)}if(l.length===0)continue;const c=[...i.current.keys()].filter(s=>!this.current.has(s));if(c.length>0){var a=be;be=[];const s=new Set,u=new Map;for(const d of l)tr(d,c,s,u);if(be.length>0){H=i,i.apply();for(const d of be)i.#s(d,r);i.deactivate()}be=a}}H=null,ge=t}this.committed=!0,Ht.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#i)se(t,ce),it(t);for(const t of this.#a)se(t,Ue),it(t);this.#i=[],this.#a=[],this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#o??=zn()).promise}static ensure(){if(H===null){const t=H=new Le;Ht.add(H),Nt||Le.enqueue(()=>{H===t&&t.flush()})}return H}static enqueue(t){at(t)}apply(){}}function Pa(e){var t=Nt;Nt=!0;try{for(var n;;){if(La(),be.length===0&&(H?.flush(),be.length===0))return Yt=null,n;$n()}}finally{Nt=t}}function $n(){var e=lt;pn=!0;var t=null;try{var n=0;for(Xt(!0);be.length>0;){var r=Le.ensure();if(n++>1e3){var a,i;Oa()}r.process(be),Qe.clear()}}finally{pn=!1,Xt(e),Yt=null}}function Oa(){try{va()}catch(e){gt(e,Yt)}}let qe=null;function er(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ze|_e))===0&&It(r)&&(qe=new Set,Rt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?gr(r):r.fn=null),qe?.size>0)){Qe.clear();for(const a of qe){if((a.f&(ze|_e))!==0)continue;const i=[a];let l=a.parent;for(;l!==null;)qe.has(l)&&(qe.delete(l),i.push(l)),l=l.parent;for(let c=i.length-1;c>=0;c--){const s=i[c];(s.f&(ze|_e))===0&&Rt(s)}}qe.clear()}}qe=null}}function tr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const i=a.f;(i&te)!==0?tr(a,t,n,r):(i&(hn|Te))!==0&&(i&ce)===0&&nr(a,t,r)&&(se(a,ce),it(a))}}function nr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&te)!==0&&nr(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function it(e){for(var t=Yt=e;t.parent!==null;){t=t.parent;var n=t.f;if(pn&&t===V&&(n&Te)!==0&&(n&Vn)===0)return;if((n&(tt|Be))!==0){if((n&re)===0)return;t.f^=re}}be.push(t)}function Da(e){let t=0,n=st(0),r;return()=>{Ot()&&(o(n),gn(()=>(t===0&&(r=xt(()=>e(()=>Lt(n)))),t+=1,()=>{at(()=>{t-=1,t===0&&(r?.(),r=void 0,Lt(n))})})))}}var Ia=Xe|pt|qt;function Ra(e,t,n){new Fa(e,t,n)}class Fa{parent;#e=!1;#t;#r=null;#n;#o;#i;#a=null;#s=null;#l=null;#u=null;#c=null;#f=0;#d=0;#_=!1;#v=null;#g=Da(()=>(this.#v=st(this.#f),()=>{this.#v=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#o=r,this.parent=V.b,this.#e=!!this.#n.pending,this.#i=Jt(()=>{V.b=this;{var a=this.#m();try{this.#a=ye(()=>r(a))}catch(i){this.error(i)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#c?.remove()}},Ia)}#b(){try{this.#a=ye(()=>this.#o(this.#t))}catch(t){this.error(t)}this.#e=!1}#y(){const t=this.#n.pending;t&&(this.#s=ye(()=>t(this.#t)),Le.enqueue(()=>{var n=this.#m();this.#a=this.#h(()=>(Le.ensure(),ye(()=>this.#o(n)))),this.#d>0?this.#p():(kt(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#m(){var t=this.#t;return this.#e&&(this.#c=Ve(),this.#t.before(this.#c),t=this.#c),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(t){var n=V,r=B,a=he;Oe(this.#i),de(this.#i),wt(this.#i.ctx);try{return t()}catch(i){return Qn(i),null}finally{Oe(n),de(r),wt(a)}}#p(){const t=this.#n.pending;this.#a!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),kr(this.#a,this.#u)),this.#s===null&&(this.#s=ye(()=>t(this.#t)))}#w(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#s&&kt(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(t){this.#w(t),this.#f+=t,this.#v&&bt(this.#v,this.#f)}get_effect_pending(){return this.#g(),o(this.#v)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#_||!n&&!r)throw t;this.#a&&(fe(this.#a),this.#a=null),this.#s&&(fe(this.#s),this.#s=null),this.#l&&(fe(this.#l),this.#l=null);var a=!1,i=!1;const l=()=>{if(a){Ta();return}a=!0,i&&wa(),Le.ensure(),this.#f=0,this.#l!==null&&kt(this.#l,()=>{this.#l=null}),this.#e=this.has_pending_snippet(),this.#a=this.#h(()=>(this.#_=!1,ye(()=>this.#o(this.#t)))),this.#d>0?this.#p():this.#e=!1};var c=B;try{de(null),i=!0,n?.(t,l),i=!1}catch(s){gt(s,this.#i&&this.#i.parent)}finally{de(c)}r&&at(()=>{this.#l=this.#h(()=>{Le.ensure(),this.#_=!0;try{return ye(()=>{r(this.#t,()=>t,()=>l)})}catch(s){return gt(s,this.#i.parent),null}finally{this.#_=!1}})})}}function ja(e,t,n,r){const a=Gt;if(n.length===0&&e.length===0){r(t.map(a));return}var i=H,l=V,c=Ba();function s(){Promise.all(n.map(u=>Ua(u))).then(u=>{c();try{r([...t.map(a),...u])}catch(d){(l.f&ze)===0&&gt(d,l)}i?.deactivate(),Kt()}).catch(u=>{gt(u,l)})}e.length>0?Promise.all(e).then(()=>{c();try{return s()}finally{i?.deactivate(),Kt()}}):s()}function Ba(){var e=V,t=B,n=he,r=H;return function(i=!0){Oe(e),de(t),wt(n),i&&r?.activate()}}function Kt(){Oe(null),de(null),wt(null)}function Gt(e){var t=te|ce,n=B!==null&&(B.f&te)!==0?B:null;return V!==null&&(V.f|=pt),{ctx:he,deps:null,effects:null,equals:Gn,f:t,fn:e,reactions:null,rv:0,v:ae,wv:0,parent:n??V,ac:null}}function Ua(e,t){let n=V;n===null&&ua();var r=n.b,a=void 0,i=st(ae),l=!B,c=new Map;return Za(()=>{var s=zn();a=s.promise;try{Promise.resolve(e()).then(s.resolve,s.reject).then(()=>{u===H&&u.committed&&u.deactivate(),Kt()})}catch(v){s.reject(v),Kt()}var u=H;if(l){var d=!r.is_pending();r.update_pending_count(1),u.increment(d),c.get(u)?.reject(mt),c.delete(u),c.set(u,s)}const h=(v,f=void 0)=>{if(u.activate(),f)f!==mt&&(i.f|=Ze,bt(i,f));else{(i.f&Ze)!==0&&(i.f^=Ze),bt(i,v);for(const[p,w]of c){if(c.delete(p),p===u)break;w.reject(mt)}}l&&(r.update_pending_count(-1),u.decrement(d))};s.promise.then(h,v=>h(null,v||"unknown"))}),_r(()=>{for(const s of c.values())s.reject(mt)}),new Promise(s=>{function u(d){function h(){d===a?s(i):u(a)}d.then(h,h)}u(a)})}function q(e){const t=Gt(e);return Er(t),t}function rr(e){const t=Gt(e);return t.equals=Jn,t}function ar(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)fe(t[n])}}function za(e){for(var t=e.parent;t!==null;){if((t.f&te)===0)return(t.f&ze)===0?t:null;t=t.parent}return null}function mn(e){var t,n=V;Oe(za(e));try{e.f&=~nt,ar(e),t=Mr(e)}finally{Oe(n)}return t}function ir(e){var t=mn(e);if(e.equals(t)||(H?.is_fork||(e.v=t),e.wv=Ar()),!ot)if(ge!==null)(Ot()||H?.is_fork)&&ge.set(e,t);else{var n=(e.f&Ee)===0?Ue:re;se(e,n)}}let wn=new Set;const Qe=new Map;let sr=!1;function st(e,t){var n={f:0,v:e,reactions:null,equals:Gn,rv:0,wv:0};return n}function K(e,t){const n=st(e);return Er(n),n}function qa(e,t=!1,n=!0){const r=st(e);return t||(r.equals=Jn),r}function T(e,t,n=!1){B!==null&&(!Pe||(B.f&qn)!==0)&&Xn()&&(B.f&(te|Te|hn|qn))!==0&&!Ye?.includes(e)&&ma();let r=n?ie(t):t;return bt(e,r)}function bt(e,t){if(!e.equals(t)){var n=e.v;ot?Qe.set(e,t):Qe.set(e,n),e.v=t;var r=Le.ensure();r.capture(e,n),(e.f&te)!==0&&((e.f&ce)!==0&&mn(e),se(e,(e.f&Ee)!==0?re:Ue)),e.wv=Ar(),lr(e,ce),V!==null&&(V.f&re)!==0&&(V.f&(Be|tt))===0&&(ke===null?ei([e]):ke.push(e)),!r.is_fork&&wn.size>0&&!sr&&Va()}return t}function Va(){sr=!1;var e=lt;Xt(!0);const t=Array.from(wn);try{for(const n of t)(n.f&re)!==0&&se(n,Ue),It(n)&&Rt(n)}finally{Xt(e)}wn.clear()}function Lt(e){T(e,e.v+1)}function lr(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var i=n[a],l=i.f,c=(l&ce)===0;if(c&&se(i,t),(l&te)!==0){var s=i;ge?.delete(s),(l&nt)===0&&(l&Ee&&(i.f|=nt),lr(s,Ue))}else c&&((l&Te)!==0&&qe!==null&&qe.add(i),it(i))}}function ie(e){if(typeof e!="object"||e===null||Mt in e)return e;const t=Bn(e);if(t!==ea&&t!==ta)return e;var n=new Map,r=jn(e),a=K(0),i=ut,l=c=>{if(ut===i)return c();var s=B,u=ut;de(null),Sr(i);var d=c();return de(s),Sr(u),d};return r&&n.set("length",K(e.length)),new Proxy(e,{defineProperty(c,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ha();var d=n.get(s);return d===void 0?d=l(()=>{var h=K(u.value);return n.set(s,h),h}):T(d,u.value,!0),!0},deleteProperty(c,s){var u=n.get(s);if(u===void 0){if(s in c){const d=l(()=>K(ae));n.set(s,d),Lt(a)}}else T(u,ae),Lt(a);return!0},get(c,s,u){if(s===Mt)return e;var d=n.get(s),h=s in c;if(d===void 0&&(!h||_t(c,s)?.writable)&&(d=l(()=>{var f=ie(h?c[s]:ae),p=K(f);return p}),n.set(s,d)),d!==void 0){var v=o(d);return v===ae?void 0:v}return Reflect.get(c,s,u)},getOwnPropertyDescriptor(c,s){var u=Reflect.getOwnPropertyDescriptor(c,s);if(u&&"value"in u){var d=n.get(s);d&&(u.value=o(d))}else if(u===void 0){var h=n.get(s),v=h?.v;if(h!==void 0&&v!==ae)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(c,s){if(s===Mt)return!0;var u=n.get(s),d=u!==void 0&&u.v!==ae||Reflect.has(c,s);if(u!==void 0||V!==null&&(!d||_t(c,s)?.writable)){u===void 0&&(u=l(()=>{var v=d?ie(c[s]):ae,f=K(v);return f}),n.set(s,u));var h=o(u);if(h===ae)return!1}return d},set(c,s,u,d){var h=n.get(s),v=s in c;if(r&&s==="length")for(var f=u;f<h.v;f+=1){var p=n.get(f+"");p!==void 0?T(p,ae):f in c&&(p=l(()=>K(ae)),n.set(f+"",p))}if(h===void 0)(!v||_t(c,s)?.writable)&&(h=l(()=>K(void 0)),T(h,ie(u)),n.set(s,h));else{v=h.v!==ae;var w=l(()=>ie(u));T(h,w)}var _=Reflect.getOwnPropertyDescriptor(c,s);if(_?.set&&_.set.call(d,u),!v){if(r&&typeof s=="string"){var m=n.get("length"),S=Number(s);Number.isInteger(S)&&S>=m.v&&T(m,S+1)}Lt(a)}return!0},ownKeys(c){o(a);var s=Reflect.ownKeys(c).filter(h=>{var v=n.get(h);return v===void 0||v.v!==ae});for(var[u,d]of n)d.v!==ae&&!(u in c)&&s.push(u);return s},setPrototypeOf(){pa()}})}var or,ur,cr,fr;function Ha(){if(or===void 0){or=window,ur=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;cr=_t(t,"firstChild").get,fr=_t(t,"nextSibling").get,Un(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Un(n)&&(n.__t=void 0)}}function Ve(e=""){return document.createTextNode(e)}function He(e){return cr.call(e)}function Pt(e){return fr.call(e)}function C(e,t){return He(e)}function Y(e,t=!1){{var n=He(e);return n instanceof Comment&&n.data===""?Pt(n):n}}function F(e,t=1,n=!1){let r=e;for(;t--;)r=Pt(r);return r}function Wa(e){e.textContent=""}function dr(){return!1}let vr=!1;function Ya(){vr||(vr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function yt(e){var t=B,n=V;de(null),Oe(null);try{return e()}finally{de(t),Oe(n)}}function Ka(e,t,n,r=n){e.addEventListener(t,()=>yt(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ya()}function Ga(e){V===null&&(B===null&&da(),fa()),ot&&ca()}function Ja(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function We(e,t,n){var r=V;r!==null&&(r.f&_e)!==0&&(e|=_e);var a={ctx:he,deps:null,nodes:null,f:e|ce|Ee,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Rt(a),a.f|=Vt}catch(c){throw fe(a),c}else t!==null&&it(a);var i=a;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&pt)===0&&(i=i.first,(e&Te)!==0&&(e&Xe)!==0&&i!==null&&(i.f|=Xe)),i!==null&&(i.parent=r,r!==null&&Ja(i,r),B!==null&&(B.f&te)!==0&&(e&tt)===0)){var l=B;(l.effects??=[]).push(i)}return a}function Ot(){return B!==null&&!Pe}function _r(e){const t=We(vn,null,!1);return se(t,re),t.teardown=e,t}function $e(e){Ga();var t=V.f,n=!B&&(t&Be)!==0&&(t&Vt)===0;if(n){var r=he;(r.e??=[]).push(e)}else return hr(e)}function hr(e){return We(dn|ia,e,!1)}function Xa(e){Le.ensure();const t=We(tt|pt,e,!0);return(n={})=>new Promise(r=>{n.outro?kt(t,()=>{fe(t),r(void 0)}):(fe(t),r(void 0))})}function pr(e){return We(dn,e,!1)}function Za(e){return We(hn|pt,e,!0)}function gn(e,t=0){return We(vn|t,e,!0)}function j(e,t=[],n=[],r=[]){ja(r,t,n,a=>{We(vn,()=>e(...a.map(o)),!0)})}function Jt(e,t=0){var n=We(Te|t,e,!0);return n}function ye(e){return We(Be|pt,e,!0)}function mr(e){var t=e.teardown;if(t!==null){const n=ot,r=B;xr(!0),de(null);try{t.call(null)}finally{xr(n),de(r)}}}function wr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&yt(()=>{a.abort(mt)});var r=n.next;(n.f&tt)!==0?n.parent=null:fe(n,t),n=r}}function Qa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Be)===0&&fe(t),t=n}}function fe(e,t=!0){var n=!1;(t||(e.f&Vn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&($a(e.nodes.start,e.nodes.end),n=!0),wr(e,t&&!n),Zt(e,0),se(e,ze);var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)i.stop();mr(e);var a=e.parent;a!==null&&a.first!==null&&gr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function $a(e,t){for(;e!==null;){var n=e===t?null:Pt(e);e.remove(),e=n}}function gr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function kt(e,t,n=!0){var r=[];bn(e,r,!0),br(r,()=>{n&&fe(e),t&&t()})}function br(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function bn(e,t,n){if((e.f&_e)===0){e.f^=_e;var r=e.nodes&&e.nodes.t;if(r!==null)for(const c of r)(c.is_global||n)&&t.push(c);for(var a=e.first;a!==null;){var i=a.next,l=(a.f&Xe)!==0||(a.f&Be)!==0&&(e.f&Te)!==0;bn(a,t,l?n:!1),a=i}}}function yn(e){yr(e,!0)}function yr(e,t){if((e.f&_e)!==0){e.f^=_e,(e.f&re)===0&&(se(e,ce),it(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Xe)!==0||(n.f&Be)!==0;yr(n,a?t:!1),n=r}var i=e.nodes&&e.nodes.t;if(i!==null)for(const l of i)(l.is_global||t)&&l.in()}}function kr(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var a=n===r?null:Pt(n);t.append(n),n=a}}let lt=!1;function Xt(e){lt=e}let ot=!1;function xr(e){ot=e}let B=null,Pe=!1;function de(e){B=e}let V=null;function Oe(e){V=e}let Ye=null;function Er(e){B!==null&&(Ye===null?Ye=[e]:Ye.push(e))}let le=null,pe=0,ke=null;function ei(e){ke=e}let Cr=1,Dt=0,ut=Dt;function Sr(e){ut=e}function Ar(){return++Cr}function It(e){var t=e.f;if((t&ce)!==0)return!0;if(t&te&&(e.f&=~nt),(t&Ue)!==0){var n=e.deps;if(n!==null)for(var r=n.length,a=0;a<r;a++){var i=n[a];if(It(i)&&ir(i),i.wv>e.wv)return!0}(t&Ee)!==0&&ge===null&&se(e,re)}return!1}function Tr(e,t,n=!0){var r=e.reactions;if(r!==null&&!Ye?.includes(e))for(var a=0;a<r.length;a++){var i=r[a];(i.f&te)!==0?Tr(i,t,!1):t===i&&(n?se(i,ce):(i.f&re)!==0&&se(i,Ue),it(i))}}function Mr(e){var t=le,n=pe,r=ke,a=B,i=Ye,l=he,c=Pe,s=ut,u=e.f;le=null,pe=0,ke=null,B=(u&(Be|tt))===0?e:null,Ye=null,wt(e.ctx),Pe=!1,ut=++Dt,e.ac!==null&&(yt(()=>{e.ac.abort(mt)}),e.ac=null);try{e.f|=_n;var d=e.fn,h=d(),v=e.deps;if(le!==null){var f;if(Zt(e,pe),v!==null&&pe>0)for(v.length=pe+le.length,f=0;f<le.length;f++)v[pe+f]=le[f];else e.deps=v=le;if(Ot()&&(e.f&Ee)!==0)for(f=pe;f<v.length;f++)(v[f].reactions??=[]).push(e)}else v!==null&&pe<v.length&&(Zt(e,pe),v.length=pe);if(Xn()&&ke!==null&&!Pe&&v!==null&&(e.f&(te|Ue|ce))===0)for(f=0;f<ke.length;f++)Tr(ke[f],e);return a!==null&&a!==e&&(Dt++,ke!==null&&(r===null?r=ke:r.push(...ke))),(e.f&Ze)!==0&&(e.f^=Ze),h}catch(p){return Qn(p)}finally{e.f^=_n,le=t,pe=n,ke=r,B=a,Ye=i,wt(l),Pe=c,ut=s}}function ti(e,t){let n=t.reactions;if(n!==null){var r=Zr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&te)!==0&&(le===null||!le.includes(t))&&(se(t,Ue),(t.f&Ee)!==0&&(t.f^=Ee,t.f&=~nt),ar(t),Zt(t,0))}function Zt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ti(e,n[r])}function Rt(e){var t=e.f;if((t&ze)===0){se(e,re);var n=V,r=lt;V=e,lt=!0;try{(t&(Te|aa))!==0?Qa(e):wr(e),mr(e);var a=Mr(e);e.teardown=typeof a=="function"?a:null,e.wv=Cr;var i;cn&&Na&&(e.f&ce)!==0&&e.deps}finally{lt=r,V=n}}}async function ni(){await Promise.resolve(),Pa()}function o(e){var t=e.f,n=(t&te)!==0;if(B!==null&&!Pe){var r=V!==null&&(V.f&ze)!==0;if(!r&&!Ye?.includes(e)){var a=B.deps;if((B.f&_n)!==0)e.rv<Dt&&(e.rv=Dt,le===null&&a!==null&&a[pe]===e?pe++:le===null?le=[e]:le.includes(e)||le.push(e));else{(B.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[B]:i.includes(B)||i.push(B)}}}if(ot){if(Qe.has(e))return Qe.get(e);if(n){var l=e,c=l.v;return((l.f&re)===0&&l.reactions!==null||Lr(l))&&(c=mn(l)),Qe.set(l,c),c}}else n&&(!ge?.has(e)||H?.is_fork&&!Ot())&&(l=e,It(l)&&ir(l),lt&&Ot()&&(l.f&Ee)===0&&Nr(l));if(ge?.has(e))return ge.get(e);if((e.f&Ze)!==0)throw e.v;return e.v}function Nr(e){if(e.deps!==null){e.f^=Ee;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&te)!==0&&(t.f&Ee)===0&&Nr(t)}}function Lr(e){if(e.v===ae)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Qe.has(t)||(t.f&te)!==0&&Lr(t))return!0;return!1}function xt(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}const ri=-7169;function se(e,t){e.f=e.f&ri|t}const ai=["touchstart","touchmove"];function ii(e){return ai.includes(e)}const Pr=new Set,kn=new Set;function si(e,t,n,r={}){function a(i){if(r.capture||Ft.call(t,i),!i.cancelBubble)return yt(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?at(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Or(e,t,n,r,a){var i={capture:r,passive:a},l=si(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&_r(()=>{t.removeEventListener(e,l,i)})}function Et(e){for(var t=0;t<e.length;t++)Pr.add(e[t]);for(var n of kn)n(e)}let Dr=null;function Ft(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],i=a[0]||e.target;Dr=e;var l=0,c=Dr===e&&e.__root;if(c){var s=a.indexOf(c);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;s<=u&&(l=s)}if(i=a[l]||e.target,i!==t){Qr(e,"currentTarget",{configurable:!0,get(){return i||n}});var d=B,h=V;de(null),Oe(null);try{for(var v,f=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+r];w!=null&&(!i.disabled||e.target===i)&&w.call(i,e)}catch(_){v?f.push(_):v=_}if(e.cancelBubble||p===t||p===null)break;i=p}if(v){for(let _ of f)queueMicrotask(()=>{throw _});throw v}}finally{e.__root=t,delete e.currentTarget,de(d),Oe(h)}}}function Ir(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ct(e,t){var n=V;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function L(e,t){var n=(t&Kn)!==0,r=(t&Sa)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ir(i?e:"<!>"+e),n||(a=He(a)));var l=r||ur?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=He(l),s=l.lastChild;Ct(c,s)}else Ct(l,l);return l}}function li(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&Kn)!==0,i=`<${n}>${r?e:"<!>"+e}</${n}>`,l;return()=>{if(!l){var c=Ir(i),s=He(c);if(a)for(l=document.createDocumentFragment();He(s);)l.appendChild(He(s));else l=He(s)}var u=l.cloneNode(!0);if(a){var d=He(u),h=u.lastChild;Ct(d,h)}else Ct(u,u);return u}}function xn(e,t){return li(e,t,"svg")}function St(e=""){{var t=Ve(e+"");return Ct(t,t),t}}function Z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ve();return e.append(t,n),Ct(t,n),e}function g(e,t){e!==null&&e.before(t)}let En=!0;function Q(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function oi(e,t){return ui(e,t)}const At=new Map;function ui(e,{target:t,anchor:n,props:r={},events:a,context:i,intro:l=!0}){Ha();var c=new Set,s=h=>{for(var v=0;v<h.length;v++){var f=h[v];if(!c.has(f)){c.add(f);var p=ii(f);t.addEventListener(f,Ft,{passive:p});var w=At.get(f);w===void 0?(document.addEventListener(f,Ft,{passive:p}),At.set(f,1)):At.set(f,w+1)}}};s(fn(Pr)),kn.add(s);var u=void 0,d=Xa(()=>{var h=n??t.appendChild(Ve());return Ra(h,{pending:()=>{}},v=>{if(i){Me({});var f=he;f.c=i}a&&(r.$$events=a),En=l,u=e(v,r)||{},En=!0,i&&Ne()}),()=>{for(var v of c){t.removeEventListener(v,Ft);var f=At.get(v);--f===0?(document.removeEventListener(v,Ft),At.delete(v)):At.set(v,f)}kn.delete(s),h!==n&&h.parentNode?.removeChild(h)}});return ci.set(u,d),u}let ci=new WeakMap;class Rr{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#o=!0;constructor(t,n=!0){this.anchor=t,this.#o=n}#i=()=>{var t=H;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)yn(r),this.#n.delete(n);else{var a=this.#r.get(n);a&&(this.#t.set(n,a.effect),this.#r.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[i,l]of this.#e){if(this.#e.delete(i),i===t)break;const c=this.#r.get(l);c&&(fe(c.effect),this.#r.delete(l))}for(const[i,l]of this.#t){if(i===n||this.#n.has(i))continue;const c=()=>{if(Array.from(this.#e.values()).includes(i)){var u=document.createDocumentFragment();kr(l,u),u.append(Ve()),this.#r.set(i,{effect:l,fragment:u})}else fe(l);this.#n.delete(i),this.#t.delete(i)};this.#o||!r?(this.#n.add(i),kt(l,c,!1)):c()}}};#a=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,a]of this.#r)n.includes(r)||(fe(a.effect),this.#r.delete(r))};ensure(t,n){var r=H,a=dr();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(a){var i=document.createDocumentFragment(),l=Ve();i.append(l),this.#r.set(t,{effect:ye(()=>n(l)),fragment:i})}else this.#t.set(t,ye(()=>n(this.anchor)));if(this.#e.set(r,t),a){for(const[c,s]of this.#t)c===t?r.skipped_effects.delete(s):r.skipped_effects.add(s);for(const[c,s]of this.#r)c===t?r.skipped_effects.delete(s.effect):r.skipped_effects.add(s.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else this.#i()}}function I(e,t,n=!1){var r=new Rr(e),a=n?Xe:0;function i(l,c){r.ensure(l,c)}Jt(()=>{var l=!1;t((c,s=!0)=>{l=!0,i(s,c)}),l||i(!1,null)},a)}function Qt(e,t){return t}function fi(e,t,n){for(var r=[],a=t.length,i=0;i<a;i++)bn(t[i].e,r,!0);br(r,()=>{var l=r.length===0&&n!==null;if(l){var c=n,s=c.parentNode;Wa(s),s.append(c),e.items.clear(),Ce(e,t[0].prev,t[a-1].next)}for(var u=0;u<a;u++){var d=t[u];l||(e.items.delete(d.k),Ce(e,d.prev,d.next)),fe(d.e,!l)}e.first===t[0]&&(e.first=t[0].prev)})}function Tt(e,t,n,r,a,i=null){var l=e,c=new Map,s=null,u=(t&Yn)!==0,d=(t&Hn)!==0,h=(t&Wn)!==0;if(u){var v=e;l=v.appendChild(Ve())}var f=null,p=rr(()=>{var N=n();return jn(N)?N:N==null?[]:fn(N)}),w,_=!0;function m(){di(M,w,l,t,r),f!==null&&(w.length===0?(f.fragment?(l.before(f.fragment),f.fragment=null):yn(f.effect),S.first=f.effect):kt(f.effect,()=>{f=null}))}var S=Jt(()=>{w=o(p);for(var N=w.length,k=new Set,y=H,b=null,E=dr(),A=0;A<N;A+=1){var U=w[A],P=r(U,A),O=_?null:c.get(P);O?(d&&bt(O.v,U),h&&bt(O.i,A),E&&y.skipped_effects.delete(O.e)):(O=vi(_?l:null,b,U,P,A,a,t,n),_&&(O.o=!0,b===null?s=O:b.next=O,b=O),c.set(P,O)),k.add(P)}if(N===0&&i&&!f)if(_)f={fragment:null,effect:ye(()=>i(l))};else{var z=document.createDocumentFragment(),ee=Ve();z.append(ee),f={fragment:z,effect:ye(()=>i(ee))}}if(!_)if(E){for(const[J,G]of c)k.has(J)||y.skipped_effects.add(G.e);y.oncommit(m),y.ondiscard(()=>{})}else m();o(p)}),M={effect:S,items:c,first:s};_=!1}function di(e,t,n,r,a){var i=(r&ga)!==0,l=t.length,c=e.items,s=e.first,u,d=null,h,v=[],f=[],p,w,_,m;if(i)for(m=0;m<l;m+=1)p=t[m],w=a(p,m),_=c.get(w),_.o&&(_.e.nodes?.a?.measure(),(h??=new Set).add(_));for(m=0;m<l;m+=1){if(p=t[m],w=a(p,m),_=c.get(w),e.first??=_,!_.o){_.o=!0;var S=d?d.next:s;Ce(e,d,_),Ce(e,_,S),Cn(_,S,n),d=_,v=[],f=[],s=d.next;continue}if((_.e.f&_e)!==0&&(yn(_.e),i&&(_.e.nodes?.a?.unfix(),(h??=new Set).delete(_))),_!==s){if(u!==void 0&&u.has(_)){if(v.length<f.length){var M=f[0],N;d=M.prev;var k=v[0],y=v[v.length-1];for(N=0;N<v.length;N+=1)Cn(v[N],M,n);for(N=0;N<f.length;N+=1)u.delete(f[N]);Ce(e,k.prev,y.next),Ce(e,d,k),Ce(e,y,M),s=M,d=y,m-=1,v=[],f=[]}else u.delete(_),Cn(_,s,n),Ce(e,_.prev,_.next),Ce(e,_,d===null?e.first:d.next),Ce(e,d,_),d=_;continue}for(v=[],f=[];s!==null&&s!==_;)(s.e.f&_e)===0&&(u??=new Set).add(s),f.push(s),s=s.next;if(s===null)continue;_=s}v.push(_),d=_,s=_.next}let b=c.size>l;if(s!==null||u!==void 0){for(var E=u===void 0?[]:fn(u);s!==null;)(s.e.f&_e)===0&&E.push(s),s=s.next;var A=E.length;if(b=c.size-A>l,A>0){var U=(r&Yn)!==0&&l===0?n:null;if(i){for(m=0;m<A;m+=1)E[m].e.nodes?.a?.measure();for(m=0;m<A;m+=1)E[m].e.nodes?.a?.fix()}fi(e,E,U)}}if(b)for(const P of c.values())P.o||(Ce(e,d,P),d=P);e.effect.last=d&&d.e,i&&at(()=>{if(h!==void 0)for(_ of h)_.e.nodes?.a?.apply()})}function vi(e,t,n,r,a,i,l,c){var s=(l&Hn)!==0,u=(l&ba)===0,d=s?u?qa(n,!1,!1):st(n):n,h=(l&Wn)===0?a:st(a),v={i:h,v:d,k:r,e:null,o:!1,prev:t,next:null};if(e===null){var f=document.createDocumentFragment();f.append(e=Ve())}return v.e=ye(()=>i(e,d,h,c)),t!==null&&(t.next=v),v}function Cn(e,t,n){if(e.e.nodes)for(var r=e.next?e.next.e.nodes.start:n,a=t?t.e.nodes.start:n,i=e.e.nodes.start;i!==null&&i!==r;){var l=Pt(i);a.before(i),i=l}}function Ce(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}function xe(e,t,...n){var r=new Rr(e);Jt(()=>{const a=t()??null;r.ensure(a,a&&(i=>a(i,...n)))},Xe)}const _i=()=>performance.now(),Ke={tick:e=>requestAnimationFrame(e),now:()=>_i(),tasks:new Set};function Fr(){const e=Ke.now();Ke.tasks.forEach(t=>{t.c(e)||(Ke.tasks.delete(t),t.f())}),Ke.tasks.size!==0&&Ke.tick(Fr)}function hi(e){let t;return Ke.tasks.size===0&&Ke.tick(Fr),{promise:new Promise(n=>{Ke.tasks.add(t={c:e,f:n})}),abort(){Ke.tasks.delete(t)}}}function $t(e,t){yt(()=>{e.dispatchEvent(new CustomEvent(t))})}function pi(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function jr(e){const t={},n=e.split(";");for(const r of n){const[a,i]=r.split(":");if(!a||i===void 0)break;const l=pi(a.trim());t[l]=i.trim()}return t}const mi=e=>e;function Br(e,t,n,r){var a=(e&Ca)!==0,i="both",l,c=t.inert,s=t.style.overflow,u,d;function h(){return yt(()=>l??=n()(t,r?.()??{},{direction:i}))}var v={is_global:a,in(){t.inert=c,$t(t,"introstart"),u=Sn(t,h(),d,1,()=>{$t(t,"introend"),u?.abort(),u=l=void 0,t.style.overflow=s})},out(_){t.inert=!0,$t(t,"outrostart"),d=Sn(t,h(),u,0,()=>{$t(t,"outroend"),_?.()})},stop:()=>{u?.abort(),d?.abort()}},f=V;if((f.nodes.t??=[]).push(v),En){var p=a;if(!p){for(var w=f.parent;w&&(w.f&Xe)!==0;)for(;(w=w.parent)&&(w.f&Te)===0;);p=!w||(w.f&Vt)!==0}p&&pr(()=>{xt(()=>v.in())})}}function Sn(e,t,n,r,a){var i=r===1;if(na(t)){var l,c=!1;return at(()=>{if(!c){var _=t({direction:i?"in":"out"});l=Sn(e,_,n,r,a)}}),{abort:()=>{c=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(n?.deactivate(),!t?.duration)return a(),{abort:ht,deactivate:ht,reset:ht,t:()=>r};const{delay:s=0,css:u,tick:d,easing:h=mi}=t;var v=[];if(i&&n===void 0&&(d&&d(0,1),u)){var f=jr(u(0,1));v.push(f,f)}var p=()=>1-r,w=e.animate(v,{duration:s,fill:"forwards"});return w.onfinish=()=>{w.cancel();var _=n?.t()??1-r;n?.abort();var m=r-_,S=t.duration*Math.abs(m),M=[];if(S>0){var N=!1;if(u)for(var k=Math.ceil(S/16.666666666666668),y=0;y<=k;y+=1){var b=_+m*h(y/k),E=jr(u(b,1-b));M.push(E),N||=E.overflow==="hidden"}N&&(e.style.overflow="hidden"),p=()=>{var A=w.currentTime;return _+m*h(A/S)},d&&hi(()=>{if(w.playState!=="running")return!1;var A=p();return d(A,1-A),!0})}w=e.animate(M,{duration:S,fill:"forwards"}),w.onfinish=()=>{p=()=>r,d?.(r,1-r),a()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=ht)},deactivate:()=>{a=ht},reset:()=>{r===0&&d?.(1,0)},t:()=>p()}}const Ur=[...` 	
\r\fÂ \v\uFEFF`];function wi(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,l=0;(l=r.indexOf(a,l))>=0;){var c=l+i;(l===0||Ur.includes(r[l-1]))&&(c===r.length||Ur.includes(r[c]))?r=(l===0?"":r.substring(0,l))+r.substring(c+1):l=c}}return r===""?null:r}function gi(e,t){return e==null?null:String(e)}function oe(e,t,n,r,a,i){var l=e.__className;if(l!==n||l===void 0){var c=wi(n,r,i);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(i&&a!==i)for(var s in i){var u=!!i[s];(a==null||u!==!!a[s])&&e.classList.toggle(s,u)}return i}function ct(e,t,n,r){var a=e.__style;if(a!==t){var i=gi(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}const bi=Symbol("is custom element"),yi=Symbol("is html");function $(e,t,n,r){var a=ki(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[la]=n),n==null?e.removeAttribute(t):typeof n!="string"&&xi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ki(e){return e.__attributes??={[bi]:e.nodeName.includes("-"),[yi]:e.namespaceURI===Aa}}var zr=new Map;function xi(e){var t=e.getAttribute("is")||e.nodeName,n=zr.get(t);if(n)return n;zr.set(t,n=[]);for(var r,a=e,i=Element.prototype;i!==a;){r=$r(a);for(var l in r)r[l].set&&n.push(l);a=Bn(a)}return n}function qr(e,t,n=t){var r=new WeakSet;Ka(e,"input",async a=>{var i=a?e.defaultValue:e.value;if(i=An(e)?Tn(i):i,n(i),H!==null&&r.add(H),await ni(),i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd,s=e.value.length;if(e.value=i??"",c!==null){var u=e.value.length;l===c&&c===s&&u>s?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=l,e.selectionEnd=Math.min(c,u))}}}),xt(t)==null&&e.value&&(n(An(e)?Tn(e.value):e.value),H!==null&&r.add(H)),gn(()=>{var a=t();if(e===document.activeElement){var i=Wt??H;if(r.has(i))return}An(e)&&a===Tn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function An(e){var t=e.type;return t==="number"||t==="range"}function Tn(e){return e===""?null:+e}function Vr(e,t){return e===t||e?.[Mt]===t}function Hr(e={},t,n,r){return pr(()=>{var a,i;return gn(()=>{a=i,i=[],xt(()=>{e!==n(...i)&&(t(e,...i),a&&Vr(n(...a),e)&&t(null,...a))})}),()=>{at(()=>{i&&Vr(n(...i),e)&&t(null,...i)})}}),e}let en=!1;function Ei(e){var t=en;try{return en=!1,[e(),en]}finally{en=t}}function R(e,t,n,r){var a=(n&xa)!==0,i=(n&Ea)!==0,l=r,c=!0,s=()=>(c&&(c=!1,l=i?xt(r):r),l),u;if(a){var d=Mt in e||sa in e;u=_t(e,t)?.set??(d&&t in e?S=>e[t]=S:void 0)}var h,v=!1;a?[h,v]=Ei(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=s(),u&&(_a(),u(h)));var f;if(f=()=>{var S=e[t];return S===void 0?s():(c=!0,S)},(n&ka)===0)return f;if(u){var p=e.$$legacy;return(function(S,M){return arguments.length>0?((!M||p||v)&&u(M?f():S),S):f()})}var w=!1,_=((n&ya)!==0?Gt:rr)(()=>(w=!1,f()));a&&o(_);var m=V;return(function(S,M){if(arguments.length>0){const N=M?o(_):a?ie(S):S;return T(_,N),w=!0,l!==void 0&&(l=N),S}return ot&&w||(m.f&ze)!==0?_.v:o(_)})}function Wr(e){he===null&&oa(),$e(()=>{const t=xt(e);if(typeof t=="function")return t})}const Ci="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ci);const Si=e=>e;function Ai(e,{delay:t=0,duration:n=400,easing:r=Si}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*a}`}}function Ti(e){const t=e-1;return t*t*t+1}function Mi(e,{duration:t=300,easing:n=Ti,y:r=20,scale:a=.95}={}){return{duration:t,easing:n,css:i=>{const l=(1-i)*r,c=a+i*(1-a);return`
        transform: translateY(${l}px) scale(${c});
        opacity: ${i};
      `}}}var Ni=L('<h3 class="wpea-modal__title"> </h3>'),Li=L('<div class="wpea-modal__footer"><!></div>'),Pi=L('<div><div class="wpea-modal__backdrop" role="button" tabindex="0" aria-label="Close modal"></div> <div class="wpea-modal__container"><div class="wpea-modal__header"><!> <button class="wpea-modal__close" aria-label="Close">&times;</button></div> <div class="wpea-modal__body"><!></div> <!></div></div>');function Oi(e,t){Me(t,!0);let n=R(t,"open",15,!1),r=R(t,"size",3,"standard"),a=R(t,"title",3,"");const i=q(()=>r()==="large"?"wpea-modal--large":r()==="fullscreen"?"wpea-modal--fullscreen":"");function l(){try{const _=localStorage.getItem("ab-wp-bits-settings");if(_)return JSON.parse(_)}catch{}return{compactMode:!1,themeMode:"auto"}}let c=K(ie(l()));$e(()=>{n()&&T(c,l(),!0)});let s=q(()=>o(c).themeMode==="light"?"light only":o(c).themeMode==="dark"?"dark only":"light dark");function u(){n(!1),t.onClose?.()}function d(){u()}function h(_){(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),u())}function v(_){_.key==="Escape"&&u()}$e(()=>(n()?(document.body.style.overflow="hidden",document.addEventListener("keydown",v)):document.body.style.overflow="",()=>{document.body.style.overflow="",document.removeEventListener("keydown",v)}));var f=Z(),p=Y(f);{var w=_=>{var m=Pi();let S;var M=C(m);M.__click=d,M.__keydown=h;var N=F(M,2),k=C(N),y=C(k);{var b=J=>{var G=Z(),ue=Y(G);xe(ue,()=>t.header),g(J,G)},E=J=>{var G=Ni(),ue=C(G);j(()=>Q(ue,a())),g(J,G)};I(y,J=>{t.header?J(b):J(E,!1)})}var A=F(y,2);A.__click=u;var U=F(k,2),P=C(U);{var O=J=>{var G=Z(),ue=Y(G);xe(ue,()=>t.children),g(J,G)};I(P,J=>{t.children&&J(O)})}var z=F(U,2);{var ee=J=>{var G=Li(),ue=C(G);xe(ue,()=>t.footer),g(J,G)};I(z,J=>{t.footer&&J(ee)})}j(()=>{S=oe(m,1,`wpea wpea-full wpea-modal wpea-modal--open ${o(i)??""}`,null,S,{"ab-wp-bits-admin--compact":o(c).compactMode}),ct(m,`font-family: var(--wpea-font-sans); color-scheme: ${o(s)??""}; position: fixed; inset: 0; z-index: 999999; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5);`)}),Br(3,N,()=>Mi,()=>({duration:300})),Br(3,m,()=>Ai,()=>({duration:200})),g(_,m)};I(p,_=>{n()&&_(w)})}g(e,f),Ne()}Et(["click","keydown"]);var Di=L("<button><!></button>");function tn(e,t){let n=R(t,"variant",3,"primary"),r=R(t,"disabled",3,!1),a=R(t,"type",3,"button"),i=R(t,"class",3,""),l=q(()=>n()?`wpea-btn--${n()}`:""),c=q(()=>t.size?`wpea-btn--${t.size}`:"");var s=Di();s.__click=function(...h){t.onclick?.apply(this,h)};var u=C(s);{var d=h=>{var v=Z(),f=Y(v);xe(f,()=>t.children),g(h,v)};I(u,h=>{t.children&&h(d)})}j(()=>{oe(s,1,`wpea-btn ${o(l)??""} ${o(c)??""} ${i()??""}`),ct(s,t.style),$(s,"type",a()),s.disabled=r()}),g(e,s)}Et(["click"]);var Ii=L('<div class="wpea-card__title"> </div>'),Ri=L('<div class="wpea-card__sub"> </div>'),Fi=L("<!> <!>",1),ji=L('<div class="wpea-card__actions"><!></div>'),Bi=L('<div class="wpea-card__header"><div><!></div> <!></div>'),Ui=L("<div><!> <!></div>");function Mn(e,t){let n=R(t,"muted",3,!1),r=R(t,"hover",3,!1),a=R(t,"class",3,""),i=q(()=>n()?"wpea-card--muted":""),l=q(()=>r()?"wpea-card--hover":""),c=q(()=>t.title||t.subtitle||t.header||t.actions);var s=Ui(),u=C(s);{var d=f=>{var p=Bi(),w=C(p),_=C(w);{var m=k=>{var y=Z(),b=Y(y);xe(b,()=>t.header),g(k,y)},S=k=>{var y=Fi(),b=Y(y);{var E=P=>{var O=Ii(),z=C(O);j(()=>Q(z,t.title)),g(P,O)};I(b,P=>{t.title&&P(E)})}var A=F(b,2);{var U=P=>{var O=Ri(),z=C(O);j(()=>Q(z,t.subtitle)),g(P,O)};I(A,P=>{t.subtitle&&P(U)})}g(k,y)};I(_,k=>{t.header?k(m):k(S,!1)})}var M=F(w,2);{var N=k=>{var y=ji(),b=C(y);xe(b,()=>t.actions),g(k,y)};I(M,k=>{t.actions&&k(N)})}g(f,p)};I(u,f=>{o(c)&&f(d)})}var h=F(u,2);{var v=f=>{var p=Z(),w=Y(p);xe(w,()=>t.children),g(f,p)};I(h,f=>{t.children&&f(v)})}j(()=>{oe(s,1,`wpea-card ${o(i)??""} ${o(l)??""} ${a()??""}`),ct(s,t.style)}),g(e,s)}var zi=L('<div class="wpea-popover wpea-popover--hover-only"><button type="button" class="wpea-toggle-3state__btn"><!></button> <div> </div></div>'),qi=L("<span> </span>"),Vi=L('<button type="button" class="wpea-toggle-3state__btn"><!> <!></button>'),Hi=L('<div role="group"></div>');function Yr(e,t){Me(t,!0);let n=R(t,"value",15,""),r=R(t,"ariaLabel",3,"Toggle selection"),a=R(t,"disabled",3,!1),i=R(t,"iconOnly",3,!1),l=R(t,"showPopover",3,!1),c=R(t,"popoverPosition",3,"top"),s=R(t,"popoverSize",3,"xs"),u=R(t,"class",3,"");function d(_){a()||(n(_.value),t.onChange?.(_.value))}function h(_,m){(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),d(m))}const v=q(()=>i()?"wpea-toggle-3state wpea-toggle-3state--icon-only":"wpea-toggle-3state"),f=q(()=>`wpea-popover__content--${c()}`),p=q(()=>`wpea-popover__content--${s()}`);var w=Hi();Tt(w,21,()=>t.options,Qt,(_,m)=>{var S=Z(),M=Y(S);{var N=y=>{var b=zi(),E=C(b);E.__click=()=>d(o(m)),E.__keydown=z=>h(z,o(m));var A=C(E);{var U=z=>{var ee=Z(),J=Y(ee);xe(J,()=>o(m).icon),g(z,ee)};I(A,z=>{o(m).icon&&z(U)})}var P=F(E,2),O=C(P);j(()=>{$(E,"aria-pressed",n()===o(m).value),$(E,"aria-label",o(m).label),E.disabled=a(),oe(P,1,`wpea-popover__content ${o(f)??""} ${o(p)??""}`),Q(O,o(m).label)}),g(y,b)},k=y=>{var b=Vi();b.__click=()=>d(o(m)),b.__keydown=O=>h(O,o(m));var E=C(b);{var A=O=>{var z=Z(),ee=Y(z);xe(ee,()=>o(m).icon),g(O,z)};I(E,O=>{o(m).icon&&O(A)})}var U=F(E,2);{var P=O=>{var z=qi(),ee=C(z);j(()=>Q(ee,o(m).label)),g(O,z)};I(U,O=>{i()||O(P)})}j(()=>{$(b,"aria-pressed",n()===o(m).value),$(b,"aria-label",i()?o(m).label:void 0),b.disabled=a()}),g(y,b)};I(M,y=>{l()&&i()?y(N):y(k,!1)})}g(_,S)}),j(()=>{oe(w,1,`${o(v)??""} ${u()??""}`),ct(w,t.style),$(w,"aria-label",r())}),g(e,w),Ne()}Et(["click","keydown"]);var Wi=L('<label class="wpea-label"> </label>'),Yi=L('<span class="wpea-multiselect__tag"><span class="wpea-multiselect__tag-label"> </span> <button type="button" class="wpea-multiselect__tag-remove" tabindex="-1"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button></span>'),Ki=L('<span class="wpea-multiselect__single-value"> </span>'),Gi=L('<input type="text" class="wpea-multiselect__input"/>'),Ji=L('<span class="wpea-multiselect__placeholder"> </span>'),Xi=L('<button type="button" class="wpea-multiselect__clear" tabindex="-1" aria-label="Clear all"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>'),Zi=xn('<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',1),Qi=xn('<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',1),$i=L('<button type="button"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><!></svg></button> <button type="button"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>',1),es=L('<span class="wpea-multiselect__option-protected" aria-label="Protected"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M4.93 4.93l14.14 14.14"></path></svg></span>'),ts=L('<div class="wpea-multiselect__option-actions"><!></div>'),ns=xn('<svg class="wpea-multiselect__option-check" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M11.5 4L5.5 10L2.5 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),rs=L('<div role="option" tabindex="-1"><span class="wpea-multiselect__option-label"> </span> <!></div>'),as=L('<div class="wpea-multiselect__no-options">No options</div>'),is=L('<div role="option" tabindex="-1" aria-selected="false"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" style="margin-right: 6px;"><path d="M7 2.5V11.5M2.5 7H11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg> </div>'),ss=L('<div class="wpea-multiselect__menu" role="listbox"><div class="wpea-multiselect__menu-list"><!> <!></div></div>'),ls=L('<span class="wpea-help"> </span>'),os=L('<div class="wpea-field"><!> <div><div class="wpea-multiselect__control" role="combobox" aria-haspopup="listbox"><div class="wpea-multiselect__value-container"><!> <!></div> <div class="wpea-multiselect__indicators"><!> <span class="wpea-multiselect__separator"></span> <span class="wpea-multiselect__dropdown-indicator"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></div></div> <!></div> <!></div>');function Kr(e,t){Me(t,!0);let n=R(t,"value",31,()=>ie([])),r=R(t,"options",19,()=>[]),a=R(t,"placeholder",3,"Select..."),i=R(t,"disabled",3,!1),l=R(t,"searchable",3,!0),c=R(t,"clearable",3,!0),s=R(t,"multiple",3,!0),u=R(t,"creatable",3,!1),d=R(t,"manageable",3,!1),h=K(!1),v=K(""),f=K(-1),p,w=K(null);const _=`wpea-multiselect-listbox-${Math.random().toString(36).slice(2,9)}`;let m=q(()=>Array.isArray(n())?n():n()?[n()]:[]),S=q(()=>o(v)?r().filter(x=>x.label.toLowerCase().includes(o(v).toLowerCase())&&!x.disabled):r().filter(x=>!x.disabled)),M=q(()=>o(m).map(x=>r().find(D=>D.value===x)).filter(Boolean)),N=q(()=>s()?!t.maxItems||o(m).length<t.maxItems:!0),k=q(()=>r().some(x=>x.label.toLowerCase()===o(v).toLowerCase())),y=q(()=>u()&&o(v).trim()!==""&&!o(k)&&o(N));function b(x,D){const X=new CustomEvent(`AdvancedSelect:${x}`,{bubbles:!0,detail:{component:p,id:t.id,...D}});p?.dispatchEvent(X)}function E(x){s()?(n(x),t.onchange?.(x)):(n(x[0]||""),t.onchange?.(x[0]||""))}function A(){i()||(T(h,!o(h)),o(h)&&(T(v,""),T(f,-1),setTimeout(()=>o(w)?.focus(),10)))}function U(x){if(!o(N)&&!o(m).includes(x.value))return;let D;s()?o(m).includes(x.value)?D=o(m).filter(X=>X!==x.value):D=[...o(m),x.value]:(D=[x.value],T(h,!1)),T(v,""),E(D)}function P(x,D){D?.stopPropagation();const X=o(m).filter(Ie=>Ie!==x);E(X)}function O(x){x.stopPropagation(),E([])}function z(){o(v).trim()&&(b("create",{value:o(v).trim(),query:o(v).trim()}),T(v,""))}function ee(x,D){D.stopPropagation(),!(!x.deletable||x.locked)&&b("delete",{value:x.value,option:x})}function J(x,D){D.stopPropagation(),b("lock",{value:x.value,option:x})}function G(x){switch(x.key){case"Escape":T(h,!1);break;case"ArrowDown":if(x.preventDefault(),!o(h))T(h,!0);else{const D=o(S).length+(o(y)?0:-1);T(f,Math.min(o(f)+1,D),!0)}break;case"ArrowUp":x.preventDefault(),T(f,Math.max(o(f)-1,0),!0);break;case"Enter":x.preventDefault(),o(y)&&(o(f)===o(S).length||o(S).length===0)?z():o(f)>=0&&o(S)[o(f)]&&U(o(S)[o(f)]);break;case"Backspace":o(v)===""&&o(m).length>0&&P(o(m)[o(m).length-1]);break}}function ue(x){p&&!p.contains(x.target)&&T(h,!1)}$e(()=>{if(o(h))return document.addEventListener("click",ue),()=>document.removeEventListener("click",ue)});let jt=q(()=>t.color?`wpea-multiselect--${t.color}`:"");var ne=os(),Se=C(ne);{var De=x=>{var D=Wi(),X=C(D);j(()=>{$(D,"for",t.id),Q(X,t.label)}),g(x,D)};I(Se,x=>{t.label&&x(De)})}var ft=F(Se,2);let nn;var Ge=C(ft);Ge.__click=A,Ge.__keydown=G;var rn=C(Ge),an=C(rn);{var Ln=x=>{var D=Z(),X=Y(D);Tt(X,17,()=>o(M),Qt,(Ie,me)=>{var Re=Yi(),ve=C(Re),W=C(ve),Fe=F(ve,2);Fe.__click=we=>P(o(me).value,we),j(()=>{Q(W,o(me).label),$(Fe,"aria-label",`Remove ${o(me).label??""}`)}),g(Ie,Re)}),g(x,D)},Pn=x=>{var D=Z(),X=Y(D);{var Ie=me=>{var Re=Ki(),ve=C(Re);j(()=>Q(ve,o(M)[0].label)),g(me,Re)};I(X,me=>{o(M).length>0&&!o(h)&&me(Ie)},!0)}g(x,D)};I(an,x=>{s()?x(Ln):x(Pn,!1)})}var Jr=F(an,2);{var sn=x=>{var D=Gi();D.__keydown=G,D.__click=X=>X.stopPropagation(),Hr(D,X=>T(w,X),()=>o(w)),j(()=>{$(D,"placeholder",o(m).length===0?a():s()?"":a()),D.disabled=i()}),qr(D,()=>o(v),X=>T(v,X)),g(x,D)},js=x=>{var D=Z(),X=Y(D);{var Ie=me=>{var Re=Ji(),ve=C(Re);j(()=>Q(ve,a())),g(me,Re)};I(X,me=>{o(m).length===0&&me(Ie)},!0)}g(x,D)};I(Jr,x=>{l()&&o(h)?x(sn):x(js,!1)})}var Bs=F(rn,2),Us=C(Bs);{var zs=x=>{var D=Xi();D.__click=O,g(x,D)};I(Us,x=>{c()&&o(m).length>0&&x(zs)})}var qs=F(Ge,2);{var Vs=x=>{var D=ss(),X=C(D),Ie=C(X);Tt(Ie,17,()=>o(S),Qt,(ve,W,Fe)=>{var we=rs();let Je;we.__click=()=>U(o(W)),we.__keydown=Ae=>{(Ae.key==="Enter"||Ae.key===" ")&&U(o(W))};var ln=C(we),Ys=C(ln),Ks=F(ln,2);{var Gs=Ae=>{var dt=ts(),On=C(dt);{var Dn=et=>{var Ut=$i(),vt=Y(Ut);let on;vt.__click=je=>J(o(W),je);var zt=C(vt),In=C(zt);{var Xs=je=>{var Rn=Zi();g(je,Rn)},Zs=je=>{var Rn=Qi();g(je,Rn)};I(In,je=>{o(W).locked?je(Xs):je(Zs,!1)})}var un=F(vt,2);let Xr;un.__click=je=>ee(o(W),je),j(()=>{on=oe(vt,1,"wpea-multiselect__option-lock",null,on,{"wpea-multiselect__option-lock--locked":o(W).locked}),$(vt,"aria-label",o(W).locked?"Unlock":"Lock"),Xr=oe(un,1,"wpea-multiselect__option-delete",null,Xr,{"wpea-multiselect__option-delete--disabled":o(W).locked}),un.disabled=o(W).locked,$(un,"aria-label",`Delete ${o(W).label??""}`)}),g(et,Ut)},Bt=et=>{var Ut=Z(),vt=Y(Ut);{var on=zt=>{var In=es();g(zt,In)};I(vt,zt=>{o(W).deletable===!1&&zt(on)},!0)}g(et,Ut)};I(On,et=>{o(W).deletable===!0?et(Dn):et(Bt,!1)})}g(Ae,dt)},Js=Ae=>{var dt=Z(),On=Y(dt);{var Dn=Bt=>{var et=ns();g(Bt,et)};I(On,Bt=>{o(m).includes(o(W).value)&&Bt(Dn)},!0)}g(Ae,dt)};I(Ks,Ae=>{d()?Ae(Gs):Ae(Js,!1)})}j((Ae,dt)=>{Je=oe(we,1,"wpea-multiselect__option",null,Je,Ae),$(we,"aria-selected",dt),Q(Ys,o(W).label)},[()=>({"wpea-multiselect__option--selected":o(m).includes(o(W).value),"wpea-multiselect__option--highlighted":Fe===o(f),"wpea-multiselect__option--disabled":!o(N)&&!o(m).includes(o(W).value)}),()=>o(m).includes(o(W).value)]),Or("mouseenter",we,()=>T(f,Fe,!0)),g(ve,we)},ve=>{var W=Z(),Fe=Y(W);{var we=Je=>{var ln=as();g(Je,ln)};I(Fe,Je=>{o(y)||Je(we)})}g(ve,W)});var me=F(Ie,2);{var Re=ve=>{var W=is();let Fe;W.__click=z,W.__keydown=Je=>{(Je.key==="Enter"||Je.key===" ")&&z()};var we=F(C(W));j(()=>{Fe=oe(W,1,"wpea-multiselect__option wpea-multiselect__option--create",null,Fe,{"wpea-multiselect__option--highlighted":o(f)===o(S).length}),Q(we,` Create "${o(v)??""}"`)}),Or("mouseenter",W,()=>T(f,o(S).length,!0)),g(ve,W)};I(me,ve=>{o(y)&&ve(Re)})}j(()=>{$(D,"aria-multiselectable",s()),$(D,"id",_)}),g(x,D)};I(qs,x=>{o(h)&&x(Vs)})}Hr(ft,x=>p=x,()=>p);var Hs=F(ft,2);{var Ws=x=>{var D=ls(),X=C(D);j(()=>Q(X,t.help)),g(x,D)};I(Hs,x=>{t.help&&x(Ws)})}j(()=>{nn=oe(ft,1,`wpea-multiselect ${o(jt)??""}`,null,nn,{"wpea-multiselect--open":o(h),"wpea-multiselect--disabled":i(),"wpea-multiselect--has-value":o(m).length>0,"wpea-multiselect--single":!s()}),$(Ge,"aria-controls",_),$(Ge,"aria-expanded",o(h)),$(Ge,"tabindex",i()?-1:0)}),g(e,ne),Ne()}Et(["click","keydown"]);var us=L('<p class="wpea-text-muted wpea-text-sm">No conditions set. Menu item will be visible to all users.</p>'),cs=L('<div class="condition-relation svelte-1kvudr9"><!></div>'),fs=L('<div class="condition-row svelte-1kvudr9"><div class="condition-fields svelte-1kvudr9"><div class="condition-operator svelte-1kvudr9"><!></div> <div class="condition-capability svelte-1kvudr9"><!></div> <div class="condition-remove svelte-1kvudr9"><!></div></div> <!></div>'),ds=L('<div class="conditions-repeater svelte-1kvudr9"><!> <div style="margin-top: var(--wpea-space--md);"><!></div></div>');function vs(e,t){Me(t,!0);let n=R(t,"conditions",31,()=>ie([])),r=R(t,"relation",15,"AND"),a=R(t,"capabilities",19,()=>[]);function i(){n([...n(),{operator:"has",capability:""}]),t.onUpdate(n())}function l(h){n(n().filter((v,f)=>f!==h)),t.onUpdate(n())}function c(h,v){const f=Array.isArray(v)?v[0]||"":v;n(n()[h]={...n()[h],capability:f},!0),t.onUpdate(n())}function s(h,v){n(n()[h]={...n()[h],operator:v},!0),t.onUpdate(n())}function u(h){r(h)}function d(h){const v=n().filter((f,p)=>p!==h).map(f=>f.capability).filter(Boolean);return a().filter(f=>!v.includes(f.value))}Mn(e,{title:"Conditions",children:(h,v)=>{var f=ds(),p=C(f);{var w=M=>{var N=us();g(M,N)},_=M=>{var N=Z(),k=Y(N);Tt(k,17,n,Qt,(y,b,E)=>{var A=fs(),U=C(A),P=C(U),O=C(P);Yr(O,{get value(){return o(b).operator},onChange:ne=>s(E,ne),options:[{value:"has",label:"Has"},{value:"has_not",label:"Has Not"}],ariaLabel:"Condition operator"});var z=F(P,2),ee=C(z);{let ne=q(()=>o(b).capability?"Search capabilities...":"Select a capability..."),Se=q(()=>d(E));Kr(ee,{id:`capability-${E}`,label:"",get placeholder(){return o(ne)},get value(){return o(b).capability},get options(){return o(Se)},multiple:!1,searchable:!0,clearable:!1,onchange:De=>c(E,De)})}var J=F(z,2),G=C(J);tn(G,{variant:"danger",size:"s",onclick:()=>l(E),children:(ne,Se)=>{var De=St("Remove");g(ne,De)},$$slots:{default:!0}});var ue=F(U,2);{var jt=ne=>{var Se=cs(),De=C(Se);Yr(De,{get value(){return r()},onChange:u,options:[{value:"AND",label:"AND"},{value:"OR",label:"OR"}],ariaLabel:"Condition relation"}),g(ne,Se)};I(ue,ne=>{E<n().length-1&&ne(jt)})}g(y,A)}),g(M,N)};I(p,M=>{n().length===0?M(w):M(_,!1)})}var m=F(p,2),S=C(m);tn(S,{variant:"secondary",onclick:i,children:(M,N)=>{var k=St("Add Condition");g(M,k)},$$slots:{default:!0}}),g(h,f)},$$slots:{default:!0}}),Ne()}var _s=L('<div class="wpea-filterable-list__empty svelte-1rjctk9"> </div>'),hs=L('<div class="wpea-filterable-list__item svelte-1rjctk9"><!></div>'),ps=L('<div class="wpea-filterable-list svelte-1rjctk9"><div class="wpea-filterable-list__search svelte-1rjctk9"><input type="text" class="wpea-input"/></div> <div class="wpea-filterable-list__items svelte-1rjctk9"><!></div></div>');function ms(e,t){Me(t,!0);let n=R(t,"items",19,()=>[]),r=R(t,"placeholder",3,"Search..."),a=R(t,"emptyMessage",3,"No items found"),i=K(""),l=q(()=>n().filter(p=>p.label.toLowerCase().includes(o(i).toLowerCase())||p.value.toString().toLowerCase().includes(o(i).toLowerCase())));var c=ps(),s=C(c),u=C(s),d=F(s,2),h=C(d);{var v=p=>{var w=_s(),_=C(w);j(()=>Q(_,a())),g(p,w)},f=p=>{var w=Z(),_=Y(w);Tt(_,17,()=>o(l),m=>m.value,(m,S)=>{var M=hs(),N=C(M);{var k=b=>{var E=Z(),A=Y(E);xe(A,()=>t.children,()=>o(S)),g(b,E)},y=b=>{var E=St();j(()=>Q(E,o(S).label)),g(b,E)};I(N,b=>{t.children?b(k):b(y,!1)})}g(m,M)}),g(p,w)};I(h,p=>{o(l).length===0?p(v):p(f,!1)})}j(()=>$(u,"placeholder",r())),qr(u,()=>o(i),p=>T(i,p)),g(e,c),Ne()}var ws=L("<div><!></div>");function Nn(e,t){let n=R(t,"class",3,""),r=q(()=>t.size?`wpea-stack--${t.size}`:"");var a=ws(),i=C(a);{var l=c=>{var s=Z(),u=Y(s);xe(u,()=>t.children),g(c,s)};I(i,c=>{t.children&&c(l)})}j(()=>{oe(a,1,`wpea-stack ${o(r)??""} ${n()??""}`),ct(a,t.style)}),g(e,a)}var gs=L("<span><!></span>");function bs(e,t){let n=R(t,"class",3,""),r=q(()=>t.variant?`badge--${t.variant}`:"");var a=gs(),i=C(a);{var l=c=>{var s=Z(),u=Y(s);xe(u,()=>t.children),g(c,s)};I(i,c=>{t.children&&c(l)})}j(()=>{oe(a,1,`badge ${o(r)??""} ${n()??""}`),ct(a,t.style)}),g(e,a)}var ys=L("<div><strong> </strong></div>"),ks=L("<!> <!>",1),xs=L('<p class="wpea-text-muted">Evaluating conditions...</p>'),Es=L('<p class="wpea-text-muted">No results to display.</p>'),Cs=L('<div style="display: flex; justify-content: space-between; align-items: center; width: 100%;"><div><span style="font-weight: 500;"> </span> <span style="color: var(--wpea-color--text-muted); font-size: 0.875rem; margin-left: var(--wpea-space--xs);"> </span></div> <!></div>'),Ss=L("<!> <!>",1);function As(e,t){Me(t,!0);const{apiUrl:n,nonce:r}=window.abMenuConditionsData;let a=K(0),i=K(ie([])),l=K(ie([])),c=K(!1),s=K(null);Wr(()=>{u()}),$e(()=>{t.conditions&&d()});async function u(){try{const w=await(await fetch(`${n}/menu-conditions/users`,{headers:{"X-WP-Nonce":r}})).json();w.success&&T(l,w.users,!0)}catch(p){console.error("Failed to fetch users:",p)}}async function d(){T(c,!0);try{T(i,await t.onEvaluate(t.conditions),!0)}catch(p){console.error("Failed to evaluate conditions:",p)}finally{T(c,!1)}}async function h(p){try{const _=await(await fetch(`${n}/menu-conditions/evaluate-user`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":r},body:JSON.stringify({user_id:p,conditions:t.conditions})})).json();_.success&&T(s,{visible:_.visible,message:_.visible?"This menu item WILL be visible to this user":"This menu item will NOT be visible to this user"},!0)}catch(w){console.error("Failed to evaluate for user:",w)}}$e(()=>{o(a)>0?h(o(a)):T(s,null)});let v=q(()=>o(i).map(p=>({value:p.role,label:p.role_name,visible:p.visible}))),f=q(()=>o(l).map(p=>({value:p.id.toString(),label:`${p.name} (${p.roles.join(", ")})`})));Nn(e,{children:(p,w)=>{var _=Ss(),m=Y(_);Mn(m,{title:"Test with Specific User",children:(M,N)=>{Nn(M,{children:(k,y)=>{var b=ks(),E=Y(b);{let P=q(()=>o(a).toString());Kr(E,{id:"test-user",label:"Select User",get value(){return o(P)},get options(){return o(f)},onchange:O=>T(a,parseInt(O,10),!0),multiple:!1,searchable:!0,clearable:!0,placeholder:"Select a user..."})}var A=F(E,2);{var U=P=>{var O=ys(),z=C(O),ee=C(z);j(()=>{oe(O,1,`user-result ${o(s).visible?"user-result--visible":"user-result--hidden"}`,"svelte-osae4r"),Q(ee,o(s).message)}),g(P,O)};I(A,P=>{o(s)&&P(U)})}g(k,b)},$$slots:{default:!0}})},$$slots:{default:!0}});var S=F(m,2);Mn(S,{title:"Results Preview",children:(M,N)=>{Nn(M,{children:(k,y)=>{var b=Z(),E=Y(b);{var A=P=>{var O=xs();g(P,O)},U=P=>{var O=Z(),z=Y(O);{var ee=G=>{var ue=Es();g(G,ue)},J=G=>{ms(G,{get items(){return o(v)},placeholder:"Search roles...",emptyMessage:"No roles found",children:(jt,ne=ht)=>{var Se=Cs(),De=C(Se),ft=C(De),nn=C(ft),Ge=F(ft,2),rn=C(Ge),an=F(De,2);{let Ln=q(()=>ne().visible?"success":"danger");bs(an,{get variant(){return o(Ln)},children:(Pn,Jr)=>{var sn=St();j(()=>Q(sn,ne().visible?"Visible":"Hidden")),g(Pn,sn)},$$slots:{default:!0}})}j(()=>{Q(nn,ne().label),Q(rn,`(${ne().value??""})`)}),g(jt,Se)},$$slots:{default:!0}})};I(z,G=>{o(v).length===0?G(ee):G(J,!1)},!0)}g(P,O)};I(E,P=>{o(c)?P(A):P(U,!1)})}g(k,b)},$$slots:{default:!0}})},$$slots:{default:!0}}),g(p,_)},$$slots:{default:!0}}),Ne()}var Ts=L('<div class="wpea-tabs"><div class="wpea-tabs__list" role="tablist"><button class="wpea-tabs__tab" role="tab">Conditions</button> <button class="wpea-tabs__tab" role="tab">Results</button></div></div> <!>',1),Ms=L('<span class="wpea-text-muted wpea-text-sm"> </span>'),Ns=L('<div style="display: flex; justify-content: space-between; width: 100%;"><div><!></div> <div style="display: flex; gap: var(--wpea-space--sm);"><!> <!></div></div>');function Ls(e,t){Me(t,!0);let n=R(t,"open",15,!1),r=R(t,"initialConditions",3,null);const{apiUrl:a,nonce:i}=window.abMenuConditionsData;let l=K("conditions"),c=K("AND"),s=K(ie([]));$e(()=>{n()&&(r()&&r().conditions&&r().conditions.length>0?(T(c,r().relation||"AND",!0),T(s,JSON.parse(JSON.stringify(r().conditions)),!0)):(T(c,"AND"),T(s,[],!0)),T(l,"conditions"))});function u(f){T(s,f,!0)}async function d(){const f={relation:o(c),conditions:o(s)};await t.onSave(f),t.onClose()}async function h(f){try{const w=await(await fetch(`${a}/menu-conditions/evaluate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":i},body:JSON.stringify({conditions:f})})).json();return w.success?w.results:[]}catch(p){return console.error("Failed to evaluate conditions:",p),[]}}let v=q(()=>({relation:o(c),conditions:o(s)}));Oi(e,{size:"large",title:"Menu Item Conditions",get open(){return n()},set open(w){n(w)},children:w=>{var _=Ts(),m=Y(_),S=C(m),M=C(S);M.__click=()=>T(l,"conditions");var N=F(M,2);N.__click=()=>T(l,"results");var k=F(m,2);{var y=E=>{vs(E,{get capabilities(){return t.capabilities},onUpdate:u,get conditions(){return o(s)},set conditions(A){T(s,A,!0)},get relation(){return o(c)},set relation(A){T(c,A,!0)}})},b=E=>{As(E,{get conditions(){return o(v)},onEvaluate:h})};I(k,E=>{o(l)==="conditions"?E(y):E(b,!1)})}j(()=>{$(M,"aria-selected",o(l)==="conditions"),$(N,"aria-selected",o(l)==="results")}),g(w,_)},footer:w=>{var _=Ns(),m=C(_),S=C(m);{var M=b=>{var E=Ms(),A=C(E);j(()=>Q(A,`${o(s).length??""} condition${o(s).length!==1?"s":""} set`)),g(b,E)};I(S,b=>{o(s).length>0&&b(M)})}var N=F(m,2),k=C(N);tn(k,{variant:"ghost",get onclick(){return t.onClose},children:(b,E)=>{var A=St("Cancel");g(b,A)},$$slots:{default:!0}});var y=F(k,2);tn(y,{variant:"primary",onclick:d,children:(b,E)=>{var A=St("Save Conditions");g(b,A)},$$slots:{default:!0}}),g(w,_)},$$slots:{default:!0,footer:!0}}),Ne()}Et(["click"]);var Ps=L('<div class="wpea-toast__title"> </div>'),Os=L('<div><div class="wpea-toast__content"><!> <div class="wpea-toast__message"> </div></div> <button class="wpea-toast__close">Ã</button></div>'),Ds=L("<div></div>");function Is(e,t){Me(t,!0);let n=R(t,"toasts",31,()=>ie([])),r=R(t,"position",3,"top-right"),a=R(t,"class",3,""),i=ie(new Set);function l(u){i.add(u),setTimeout(()=>{n(n().filter(d=>d.id!==u)),i.delete(u),t.onClose?.(u)},300)}$e(()=>{n().forEach(u=>{if(u.duration){const d=setTimeout(()=>{l(u.id)},u.duration);return()=>clearTimeout(d)}})});let c=q(()=>`wpea-toast-container--${r()}`);var s=Ds();Tt(s,21,n,u=>u.id,(u,d)=>{const h=q(()=>i.has(o(d).id)),v=q(()=>o(d).variant?`wpea-toast--${o(d).variant}`:"");var f=Os();let p;var w=C(f),_=C(w);{var m=k=>{var y=Ps(),b=C(y);j(()=>Q(b,o(d).title)),g(k,y)};I(_,k=>{o(d).title&&k(m)})}var S=F(_,2),M=C(S),N=F(w,2);N.__click=()=>l(o(d).id),j(()=>{p=oe(f,1,`wpea-toast ${o(v)??""}`,null,p,{"wpea-toast--closing":o(h)}),Q(M,o(d).message)}),g(u,f)}),j(()=>{oe(s,1,`wpea-toast-container ${o(c)??""} ${a()??""}`),ct(s,t.style)}),g(e,s),Ne()}Et(["click"]);var Rs=L("<!> <!>",1);function Fs(e,t){Me(t,!0);const{apiUrl:n,nonce:r}=window.abMenuConditionsData;let a=K(!1),i=K(0),l=K(null),c=K(ie([])),s=K(ie([]));Wr(()=>{u(),d();const k=()=>{console.log("menu-conditions-buttons-added event received"),d()};return document.addEventListener("menu-conditions-buttons-added",k),()=>{document.removeEventListener("menu-conditions-buttons-added",k)}});async function u(){try{const y=await(await fetch(`${n}/menu-conditions/capabilities`,{headers:{"X-WP-Nonce":r}})).json();y.success&&T(c,y.capabilities,!0)}catch(k){console.error("Failed to fetch capabilities:",k),_("Failed to load capabilities","danger")}}function d(){const k=document.querySelectorAll(".ab-menu-conditions-button");console.log("Attaching listeners to",k.length,"buttons"),k.forEach(y=>{y.hasAttribute("data-listener-attached")||(y.setAttribute("data-listener-attached","true"),y.addEventListener("click",h))})}async function h(k){k.preventDefault(),k.stopPropagation(),console.log("Button clicked!",k);const y=k.currentTarget,b=parseInt(y.dataset.menuItemId||"0",10);console.log("Menu item ID:",b);try{console.log("Fetching conditions from:",`${n}/menu-conditions/item/${b}`);const E=await fetch(`${n}/menu-conditions/item/${b}`,{headers:{"X-WP-Nonce":r}});console.log("Fetch response:",E);const A=await E.json();console.log("Fetch data:",A),A.success?(console.log("Opening modal with conditions:",A.conditions),v(b,A.conditions)):(console.error("Fetch returned failure:",A),_("Failed to load conditions","danger"))}catch(E){console.error("Failed to fetch conditions:",E),_("Failed to load conditions","danger")}}function v(k,y){console.log("openModal called with:",k,y),T(i,k,!0),y&&y.conditions&&Array.isArray(y.conditions)?T(l,{relation:y.relation||"AND",conditions:y.conditions},!0):T(l,{relation:"AND",conditions:[]},!0),T(a,!0),console.log("modalOpen set to:",o(a))}function f(){T(a,!1),T(i,0),T(l,null)}async function p(k){try{const b=await(await fetch(`${n}/menu-conditions/item/${o(i)}`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":r},body:JSON.stringify(k)})).json();b.success?(_("Conditions saved successfully","success"),w(o(i),b.conditions),typeof wp<"u"&&wp.customize&&(wp.customize.state("saved").set(!1),console.log("Marked Customizer as having unsaved changes"))):_("Failed to save conditions","danger")}catch(y){console.error("Failed to save conditions:",y),_("Error saving conditions","danger")}}function w(k,y){const b=document.querySelector(`.ab-menu-conditions-button[data-menu-item-id="${k}"]`),E=y.conditions&&y.conditions.length>0;if(b){b.setAttribute("data-conditions",JSON.stringify(y)),E?b.classList.add("has-conditions"):b.classList.remove("has-conditions");let U=b.querySelector(".ab-conditions-indicator");if(E){if(!U){const P=document.createElement("span");P.className="ab-conditions-indicator",P.textContent="â",P.style.color="#2271b1",P.style.marginLeft="4px";const O=b.querySelector("span");O&&O.appendChild(P)}}else U&&U.remove()}const A=document.querySelector(`#customize-control-nav_menu_item-${k}`);if(A){const U=A.querySelector(".menu-item-handle");U&&(E?U.classList.add("has-menu-conditions"):U.classList.remove("has-menu-conditions"))}}function _(k,y="success"){const b=`toast-${Date.now()}`;T(s,[...o(s),{id:b,message:k,variant:y,duration:3e3}],!0)}var m=Rs(),S=Y(m);{var M=k=>{Ls(k,{get menuItemId(){return o(i)},get initialConditions(){return o(l)},get capabilities(){return o(c)},onClose:f,onSave:p,get open(){return o(a)},set open(y){T(a,y,!0)}})};I(S,k=>{o(a)&&k(M)})}var N=F(S,2);Is(N,{position:"top-right",get toasts(){return o(s)},set toasts(k){T(s,k,!0)}}),g(e,m),Ne()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Gr):Gr();function Gr(){const e=document.createElement("div");e.id="ab-menu-conditions-app",e.setAttribute("data-select2-id","ab-menu-conditions"),document.body.appendChild(e),oi(Fs,{target:e})}})();
