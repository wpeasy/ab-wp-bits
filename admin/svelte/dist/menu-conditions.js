(function(){"use strict";var Xn=document.createElement("style");Xn.textContent=`.conditions-repeater.svelte-1kvudr9{display:flex;flex-direction:column;gap:var(--wpea-space--md)}.condition-row.svelte-1kvudr9{display:flex;flex-direction:column;gap:var(--wpea-space--sm)}.condition-fields.svelte-1kvudr9{display:grid;grid-template-columns:auto 1fr auto;gap:var(--wpea-space--md);align-items:start}.condition-operator.svelte-1kvudr9{min-width:140px}.condition-capability.svelte-1kvudr9{display:flex;flex-direction:column;gap:var(--wpea-space--xs);width:100%}.condition-relation.svelte-1kvudr9{display:flex;justify-content:center;padding:var(--wpea-space--xs) 0}@container (max-width: 600px){.condition-fields.svelte-1kvudr9{grid-template-columns:1fr}.condition-operator.svelte-1kvudr9,.condition-capability.svelte-1kvudr9,.condition-remove.svelte-1kvudr9{width:100%}}.wpea-filterable-list.svelte-1rjctk9{display:flex;flex-direction:column;gap:var(--wpea-space--sm);border:1px solid var(--wpea-surface--border);border-radius:var(--wpea-radius--md);background:var(--wpea-surface--bg)}.wpea-filterable-list__search.svelte-1rjctk9{padding:var(--wpea-space--sm);border-bottom:1px solid var(--wpea-surface--border)}.wpea-filterable-list__items.svelte-1rjctk9{max-height:300px;overflow-y:auto}.wpea-filterable-list__item.svelte-1rjctk9{padding:var(--wpea-space--sm) var(--wpea-space--md);border-bottom:1px solid var(--wpea-surface--divider)}.wpea-filterable-list__item.svelte-1rjctk9:last-child{border-bottom:none}.wpea-filterable-list__item.svelte-1rjctk9:hover{background:var(--wpea-surface--panel)}.wpea-filterable-list__empty.svelte-1rjctk9{padding:var(--wpea-space--md);text-align:center;color:var(--wpea-color--text-muted)}.user-result.svelte-osae4r{padding:var(--wpea-space--md);border-radius:var(--wpea-radius--md);border:2px solid}.user-result--visible.svelte-osae4r{background:color-mix(in oklab,var(--wpea-color--success),transparent 85%);border-color:var(--wpea-color--success);color:var(--wpea-surface--text)}.user-result--hidden.svelte-osae4r{background:color-mix(in oklab,var(--wpea-color--danger),transparent 85%);border-color:var(--wpea-color--danger);color:var(--wpea-surface--text)}.wpea-modal--large .wpea-modal__container{min-height:80vh!important}
/*$vite$:1*/`,document.head.appendChild(Xn);const kn=!1;var Jn=Array.isArray,aa=Array.prototype.indexOf,xn=Array.from,ia=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,sa=Object.getOwnPropertyDescriptors,la=Object.prototype,oa=Array.prototype,Qn=Object.getPrototypeOf,Zn=Object.isExtensible;function ca(t){return typeof t=="function"}const Ct=()=>{};function ua(t){for(var e=0;e<t.length;e++)t[e]()}function $n(){var t,e,n=new Promise((r,a)=>{t=r,e=a});return{promise:n,resolve:t,reject:e}}const ie=2,En=4,Cn=8,fa=1<<24,Fe=16,Ke=32,dt=64,tn=128,Ne=512,le=1024,ve=2048,Ge=4096,we=8192,Xe=16384,nn=32768,at=65536,er=1<<17,tr=1<<18,St=1<<19,da=1<<20,vt=32768,Sn=1<<21,An=1<<22,it=1<<23,zt=Symbol("$state"),va=Symbol("legacy props"),_a=Symbol(""),At=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ha(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function pa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function wa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ga(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ba(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ma(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ya(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ka(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ea(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ca(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const nr=1,rr=2,ar=4,Sa=8,Aa=16,La=1,Ma=4,Ta=8,Na=16,Pa=4,ir=1,Oa=2,oe=Symbol(),Da="http://www.w3.org/1999/xhtml";function Ia(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function sr(t){return t===this.v}function Ra(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function lr(t){return!Ra(t,this.v)}let Fa=!1,ge=null;function Lt(t){ge=t}function Pe(t,e=!1,n){ge={p:ge,i:!1,c:null,e:null,s:t,x:null,l:null}}function Oe(t){var e=ge,n=e.e;if(n!==null){e.e=null;for(var r of n)Ar(r)}return e.i=!0,ge=e.p,{}}function or(){return!0}let _t=[];function cr(){var t=_t;_t=[],ua(t)}function ht(t){if(_t.length===0&&!qt){var e=_t;queueMicrotask(()=>{e===_t&&cr()})}_t.push(t)}function ja(){for(;_t.length>0;)cr()}function ur(t){var e=Y;if(e===null)return H.f|=it,t;if((e.f&nn)===0){if((e.f&tn)===0)throw t;e.b.error(t)}else Mt(t,e)}function Mt(t,e){for(;e!==null;){if((e.f&tn)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const rn=new Set;let K=null,an=null,Ee=null,Ce=[],sn=null,Ln=!1,qt=!1;class je{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#o=null;#i=[];#a=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){Ce=[],an=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#l(n.effects),this.#l(n.render_effects),this.#l(n.block_effects)):(an=this,K=null,dr(n.render_effects),dr(n.effects),an=null,this.#o?.resolve()),Ee=null}#s(e,n){e.f^=le;for(var r=e.first;r!==null;){var a=r.f,i=(a&(Ke|dt))!==0,o=i&&(a&le)!==0,c=o||(a&we)!==0||this.skipped_effects.has(r);if((r.f&tn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!c&&r.fn!==null){i?r.f^=le:(a&En)!==0?n.effects.push(r):Kt(r)&&((r.f&Fe)!==0&&n.block_effects.push(r),Gt(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#l(n.effects),this.#l(n.render_effects),this.#l(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#l(e){for(const n of e)((n.f&ve)!==0?this.#i:this.#a).push(n),this.#c(n.deps),ue(n,le)}#c(e){if(e!==null)for(const n of e)(n.f&ie)===0||(n.f&vt)===0||(n.f^=vt,this.#c(n.deps))}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&it)===0&&(this.current.set(e,e.v),Ee?.set(e,e.v))}activate(){K=this,this.apply()}deactivate(){K===this&&(K=null,Ee=null)}flush(){if(this.activate(),Ce.length>0){if(fr(),K!==null&&K!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#n===0){for(const e of this.#e)e();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(rn.size>1){this.previous.clear();var e=Ee,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of rn){if(i===this){n=!1;continue}const o=[];for(const[l,u]of this.current){if(i.current.has(l))if(n&&u!==i.current.get(l))i.current.set(l,u);else continue;o.push(l)}if(o.length===0)continue;const c=[...i.current.keys()].filter(l=>!this.current.has(l));if(c.length>0){var a=Ce;Ce=[];const l=new Set,u=new Map;for(const d of o)vr(d,c,l,u);if(Ce.length>0){K=i,i.apply();for(const d of Ce)i.#s(d,r);i.deactivate()}Ce=a}}K=null,Ee=e}this.committed=!0,rn.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#i)ue(e,ve),pt(e);for(const e of this.#a)ue(e,Ge),pt(e);this.#i=[],this.#a=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#o??=$n()).promise}static ensure(){if(K===null){const e=K=new je;rn.add(K),qt||je.enqueue(()=>{K===e&&e.flush()})}return K}static enqueue(e){ht(e)}apply(){}}function Ba(t){var e=qt;qt=!0;try{for(var n;;){if(ja(),Ce.length===0&&(K?.flush(),Ce.length===0))return sn=null,n;fr()}}finally{qt=e}}function fr(){var t=gt;Ln=!0;var e=null;try{var n=0;for(un(!0);Ce.length>0;){var r=je.ensure();if(n++>1e3){var a,i;Ua()}r.process(Ce),st.clear()}}finally{Ln=!1,un(t),sn=null}}function Ua(){try{ma()}catch(t){Mt(t,sn)}}let Je=null;function dr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Xe|we))===0&&Kt(r)&&(Je=new Set,Gt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Nr(r):r.fn=null),Je?.size>0)){st.clear();for(const a of Je){if((a.f&(Xe|we))!==0)continue;const i=[a];let o=a.parent;for(;o!==null;)Je.has(o)&&(Je.delete(o),i.push(o)),o=o.parent;for(let c=i.length-1;c>=0;c--){const l=i[c];(l.f&(Xe|we))===0&&Gt(l)}}Je.clear()}}Je=null}}function vr(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const a of t.reactions){const i=a.f;(i&ie)!==0?vr(a,e,n,r):(i&(An|Fe))!==0&&(i&ve)===0&&_r(a,e,r)&&(ue(a,ve),pt(a))}}function _r(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const a of t.deps){if(e.includes(a))return!0;if((a.f&ie)!==0&&_r(a,e,n))return n.set(a,!0),!0}return n.set(t,!1),!1}function pt(t){for(var e=sn=t;e.parent!==null;){e=e.parent;var n=e.f;if(Ln&&e===Y&&(n&Fe)!==0&&(n&tr)===0)return;if((n&(dt|Ke))!==0){if((n&le)===0)return;e.f^=le}}Ce.push(e)}function za(t){let e=0,n=wt(0),r;return()=>{Wt()&&(s(n),Nn(()=>(e===0&&(r=Ot(()=>t(()=>Vt(n)))),e+=1,()=>{ht(()=>{e-=1,e===0&&(r?.(),r=void 0,Vt(n))})})))}}var qa=at|St|tn;function Va(t,e,n){new Ha(t,e,n)}class Ha{parent;#e=!1;#t;#r=null;#n;#o;#i;#a=null;#s=null;#l=null;#c=null;#u=null;#f=0;#d=0;#_=!1;#v=null;#b=za(()=>(this.#v=wt(this.#f),()=>{this.#v=null}));constructor(e,n,r){this.#t=e,this.#n=n,this.#o=r,this.parent=Y.b,this.#e=!!this.#n.pending,this.#i=cn(()=>{Y.b=this;{var a=this.#w();try{this.#a=Se(()=>r(a))}catch(i){this.error(i)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#u?.remove()}},qa)}#m(){try{this.#a=Se(()=>this.#o(this.#t))}catch(e){this.error(e)}this.#e=!1}#y(){const e=this.#n.pending;e&&(this.#s=Se(()=>e(this.#t)),je.enqueue(()=>{var n=this.#w();this.#a=this.#h(()=>(je.ensure(),Se(()=>this.#o(n)))),this.#d>0?this.#p():(Pt(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#w(){var e=this.#t;return this.#e&&(this.#u=Qe(),this.#t.before(this.#u),e=this.#u),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(e){var n=Y,r=H,a=ge;Ue(this.#i),he(this.#i),Lt(this.#i.ctx);try{return e()}catch(i){return ur(i),null}finally{Ue(n),he(r),Lt(a)}}#p(){const e=this.#n.pending;this.#a!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),Dr(this.#a,this.#c)),this.#s===null&&(this.#s=Se(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#d+=e,this.#d===0&&(this.#e=!1,this.#s&&Pt(this.#s,()=>{this.#s=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(e){this.#g(e),this.#f+=e,this.#v&&Tt(this.#v,this.#f)}get_effect_pending(){return this.#b(),s(this.#v)}error(e){var n=this.#n.onerror;let r=this.#n.failed;if(this.#_||!n&&!r)throw e;this.#a&&(_e(this.#a),this.#a=null),this.#s&&(_e(this.#s),this.#s=null),this.#l&&(_e(this.#l),this.#l=null);var a=!1,i=!1;const o=()=>{if(a){Ia();return}a=!0,i&&Ca(),je.ensure(),this.#f=0,this.#l!==null&&Pt(this.#l,()=>{this.#l=null}),this.#e=this.has_pending_snippet(),this.#a=this.#h(()=>(this.#_=!1,Se(()=>this.#o(this.#t)))),this.#d>0?this.#p():this.#e=!1};var c=H;try{he(null),i=!0,n?.(e,o),i=!1}catch(l){Mt(l,this.#i&&this.#i.parent)}finally{he(c)}r&&ht(()=>{this.#l=this.#h(()=>{je.ensure(),this.#_=!0;try{return Se(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return Mt(l,this.#i.parent),null}finally{this.#_=!1}})})}}function Wa(t,e,n,r){const a=on;if(n.length===0&&t.length===0){r(e.map(a));return}var i=K,o=Y,c=Ya();function l(){Promise.all(n.map(u=>Ka(u))).then(u=>{c();try{r([...e.map(a),...u])}catch(d){(o.f&Xe)===0&&Mt(d,o)}i?.deactivate(),ln()}).catch(u=>{Mt(u,o)})}t.length>0?Promise.all(t).then(()=>{c();try{return l()}finally{i?.deactivate(),ln()}}):l()}function Ya(){var t=Y,e=H,n=ge,r=K;return function(i=!0){Ue(t),he(e),Lt(n),i&&r?.activate()}}function ln(){Ue(null),he(null),Lt(null)}function on(t){var e=ie|ve,n=H!==null&&(H.f&ie)!==0?H:null;return Y!==null&&(Y.f|=St),{ctx:ge,deps:null,effects:null,equals:sr,f:e,fn:t,reactions:null,rv:0,v:oe,wv:0,parent:n??Y,ac:null}}function Ka(t,e){let n=Y;n===null&&pa();var r=n.b,a=void 0,i=wt(oe),o=!H,c=new Map;return ai(()=>{var l=$n();a=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===K&&u.committed&&u.deactivate(),ln()})}catch(v){l.reject(v),ln()}var u=K;if(o){var d=!r.is_pending();r.update_pending_count(1),u.increment(d),c.get(u)?.reject(At),c.delete(u),c.set(u,l)}const _=(v,f=void 0)=>{if(u.activate(),f)f!==At&&(i.f|=it,Tt(i,f));else{(i.f&it)!==0&&(i.f^=it),Tt(i,v);for(const[p,g]of c){if(c.delete(p),p===u)break;g.reject(At)}}o&&(r.update_pending_count(-1),u.decrement(d))};l.promise.then(_,v=>_(null,v||"unknown"))}),Sr(()=>{for(const l of c.values())l.reject(At)}),new Promise(l=>{function u(d){function _(){d===a?l(i):u(a)}d.then(_,_)}u(a)})}function q(t){const e=on(t);return Rr(e),e}function hr(t){const e=on(t);return e.equals=lr,e}function pr(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)_e(e[n])}}function Ga(t){for(var e=t.parent;e!==null;){if((e.f&ie)===0)return(e.f&Xe)===0?e:null;e=e.parent}return null}function Mn(t){var e,n=Y;Ue(Ga(t));try{t.f&=~vt,pr(t),e=zr(t)}finally{Ue(n)}return e}function wr(t){var e=Mn(t);if(t.equals(e)||(K?.is_fork||(t.v=e),t.wv=Br()),!bt)if(Ee!==null)(Wt()||K?.is_fork)&&Ee.set(t,e);else{var n=(t.f&Ne)===0?Ge:le;ue(t,n)}}let Tn=new Set;const st=new Map;let gr=!1;function wt(t,e){var n={f:0,v:t,reactions:null,equals:sr,rv:0,wv:0};return n}function W(t,e){const n=wt(t);return Rr(n),n}function Xa(t,e=!1,n=!0){const r=wt(t);return e||(r.equals=lr),r}function S(t,e,n=!1){H!==null&&(!Be||(H.f&er)!==0)&&or()&&(H.f&(ie|Fe|An|er))!==0&&!et?.includes(t)&&Ea();let r=n?ce(e):e;return Tt(t,r)}function Tt(t,e){if(!t.equals(e)){var n=t.v;bt?st.set(t,e):st.set(t,n),t.v=e;var r=je.ensure();r.capture(t,n),(t.f&ie)!==0&&((t.f&ve)!==0&&Mn(t),ue(t,(t.f&Ne)!==0?le:Ge)),t.wv=Br(),br(t,ve),Y!==null&&(Y.f&le)!==0&&(Y.f&(Ke|dt))===0&&(Ae===null?li([t]):Ae.push(t)),!r.is_fork&&Tn.size>0&&!gr&&Ja()}return e}function Ja(){gr=!1;var t=gt;un(!0);const e=Array.from(Tn);try{for(const n of e)(n.f&le)!==0&&ue(n,Ge),Kt(n)&&Gt(n)}finally{un(t)}Tn.clear()}function Vt(t){S(t,t.v+1)}function br(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var i=n[a],o=i.f,c=(o&ve)===0;if(c&&ue(i,e),(o&ie)!==0){var l=i;Ee?.delete(l),(o&vt)===0&&(o&Ne&&(i.f|=vt),br(l,Ge))}else c&&((o&Fe)!==0&&Je!==null&&Je.add(i),pt(i))}}function ce(t){if(typeof t!="object"||t===null||zt in t)return t;const e=Qn(t);if(e!==la&&e!==oa)return t;var n=new Map,r=Jn(t),a=W(0),i=mt,o=c=>{if(mt===i)return c();var l=H,u=mt;he(null),jr(i);var d=c();return he(l),jr(u),d};return r&&n.set("length",W(t.length)),new Proxy(t,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ka();var d=n.get(l);return d===void 0?d=o(()=>{var _=W(u.value);return n.set(l,_),_}):S(d,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const d=o(()=>W(oe));n.set(l,d),Vt(a)}}else S(u,oe),Vt(a);return!0},get(c,l,u){if(l===zt)return t;var d=n.get(l),_=l in c;if(d===void 0&&(!_||Et(c,l)?.writable)&&(d=o(()=>{var f=ce(_?c[l]:oe),p=W(f);return p}),n.set(l,d)),d!==void 0){var v=s(d);return v===oe?void 0:v}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var d=n.get(l);d&&(u.value=s(d))}else if(u===void 0){var _=n.get(l),v=_?.v;if(_!==void 0&&v!==oe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(c,l){if(l===zt)return!0;var u=n.get(l),d=u!==void 0&&u.v!==oe||Reflect.has(c,l);if(u!==void 0||Y!==null&&(!d||Et(c,l)?.writable)){u===void 0&&(u=o(()=>{var v=d?ce(c[l]):oe,f=W(v);return f}),n.set(l,u));var _=s(u);if(_===oe)return!1}return d},set(c,l,u,d){var _=n.get(l),v=l in c;if(r&&l==="length")for(var f=u;f<_.v;f+=1){var p=n.get(f+"");p!==void 0?S(p,oe):f in c&&(p=o(()=>W(oe)),n.set(f+"",p))}if(_===void 0)(!v||Et(c,l)?.writable)&&(_=o(()=>W(void 0)),S(_,ce(u)),n.set(l,_));else{v=_.v!==oe;var g=o(()=>ce(u));S(_,g)}var h=Reflect.getOwnPropertyDescriptor(c,l);if(h?.set&&h.set.call(d,u),!v){if(r&&typeof l=="string"){var w=n.get("length"),A=Number(l);Number.isInteger(A)&&A>=w.v&&S(w,A+1)}Vt(a)}return!0},ownKeys(c){s(a);var l=Reflect.ownKeys(c).filter(_=>{var v=n.get(_);return v===void 0||v.v!==oe});for(var[u,d]of n)d.v!==oe&&!(u in c)&&l.push(u);return l},setPrototypeOf(){xa()}})}var mr,yr,kr,xr;function Qa(){if(mr===void 0){mr=window,yr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;kr=Et(e,"firstChild").get,xr=Et(e,"nextSibling").get,Zn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Zn(n)&&(n.__t=void 0)}}function Qe(t=""){return document.createTextNode(t)}function Ze(t){return kr.call(t)}function Ht(t){return xr.call(t)}function m(t,e){return Ze(t)}function G(t,e=!1){{var n=Ze(t);return n instanceof Comment&&n.data===""?Ht(n):n}}function j(t,e=1,n=!1){let r=t;for(;e--;)r=Ht(r);return r}function Za(t){t.textContent=""}function Er(){return!1}let Cr=!1;function $a(){Cr||(Cr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Nt(t){var e=H,n=Y;he(null),Ue(null);try{return t()}finally{he(e),Ue(n)}}function ei(t,e,n,r=n){t.addEventListener(e,()=>Nt(n));const a=t.__on_r;a?t.__on_r=()=>{a(),r(!0)}:t.__on_r=()=>r(!0),$a()}function ti(t){Y===null&&(H===null&&ba(),ga()),bt&&wa()}function ni(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function $e(t,e,n){var r=Y;r!==null&&(r.f&we)!==0&&(t|=we);var a={ctx:ge,deps:null,nodes:null,f:t|ve|Ne,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Gt(a),a.f|=nn}catch(c){throw _e(a),c}else e!==null&&pt(a);var i=a;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&St)===0&&(i=i.first,(t&Fe)!==0&&(t&at)!==0&&i!==null&&(i.f|=at)),i!==null&&(i.parent=r,r!==null&&ni(i,r),H!==null&&(H.f&ie)!==0&&(t&dt)===0)){var o=H;(o.effects??=[]).push(i)}return a}function Wt(){return H!==null&&!Be}function Sr(t){const e=$e(Cn,null,!1);return ue(e,le),e.teardown=t,e}function lt(t){ti();var e=Y.f,n=!H&&(e&Ke)!==0&&(e&nn)===0;if(n){var r=ge;(r.e??=[]).push(t)}else return Ar(t)}function Ar(t){return $e(En|da,t,!1)}function ri(t){je.ensure();const e=$e(dt|St,t,!0);return(n={})=>new Promise(r=>{n.outro?Pt(e,()=>{_e(e),r(void 0)}):(_e(e),r(void 0))})}function Lr(t){return $e(En,t,!1)}function ai(t){return $e(An|St,t,!0)}function Nn(t,e=0){return $e(Cn|e,t,!0)}function B(t,e=[],n=[],r=[]){Wa(r,e,n,a=>{$e(Cn,()=>t(...a.map(s)),!0)})}function cn(t,e=0){var n=$e(Fe|e,t,!0);return n}function Se(t){return $e(Ke|St,t,!0)}function Mr(t){var e=t.teardown;if(e!==null){const n=bt,r=H;Ir(!0),he(null);try{e.call(null)}finally{Ir(n),he(r)}}}function Tr(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const a=n.ac;a!==null&&Nt(()=>{a.abort(At)});var r=n.next;(n.f&dt)!==0?n.parent=null:_e(n,e),n=r}}function ii(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Ke)===0&&_e(e),e=n}}function _e(t,e=!0){var n=!1;(e||(t.f&tr)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(si(t.nodes.start,t.nodes.end),n=!0),Tr(t,e&&!n),fn(t,0),ue(t,Xe);var r=t.nodes&&t.nodes.t;if(r!==null)for(const i of r)i.stop();Mr(t);var a=t.parent;a!==null&&a.first!==null&&Nr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function si(t,e){for(;t!==null;){var n=t===e?null:Ht(t);t.remove(),t=n}}function Nr(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Pt(t,e,n=!0){var r=[];Pn(t,r,!0),Pr(r,()=>{n&&_e(t),e&&e()})}function Pr(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function Pn(t,e,n){if((t.f&we)===0){t.f^=we;var r=t.nodes&&t.nodes.t;if(r!==null)for(const c of r)(c.is_global||n)&&e.push(c);for(var a=t.first;a!==null;){var i=a.next,o=(a.f&at)!==0||(a.f&Ke)!==0&&(t.f&Fe)!==0;Pn(a,e,o?n:!1),a=i}}}function On(t){Or(t,!0)}function Or(t,e){if((t.f&we)!==0){t.f^=we,(t.f&le)===0&&(ue(t,ve),pt(t));for(var n=t.first;n!==null;){var r=n.next,a=(n.f&at)!==0||(n.f&Ke)!==0;Or(n,a?e:!1),n=r}var i=t.nodes&&t.nodes.t;if(i!==null)for(const o of i)(o.is_global||e)&&o.in()}}function Dr(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;n!==null;){var a=n===r?null:Ht(n);e.append(n),n=a}}let gt=!1;function un(t){gt=t}let bt=!1;function Ir(t){bt=t}let H=null,Be=!1;function he(t){H=t}let Y=null;function Ue(t){Y=t}let et=null;function Rr(t){H!==null&&(et===null?et=[t]:et.push(t))}let de=null,be=0,Ae=null;function li(t){Ae=t}let Fr=1,Yt=0,mt=Yt;function jr(t){mt=t}function Br(){return++Fr}function Kt(t){var e=t.f;if((e&ve)!==0)return!0;if(e&ie&&(t.f&=~vt),(e&Ge)!==0){var n=t.deps;if(n!==null)for(var r=n.length,a=0;a<r;a++){var i=n[a];if(Kt(i)&&wr(i),i.wv>t.wv)return!0}(e&Ne)!==0&&Ee===null&&ue(t,le)}return!1}function Ur(t,e,n=!0){var r=t.reactions;if(r!==null&&!et?.includes(t))for(var a=0;a<r.length;a++){var i=r[a];(i.f&ie)!==0?Ur(i,e,!1):e===i&&(n?ue(i,ve):(i.f&le)!==0&&ue(i,Ge),pt(i))}}function zr(t){var e=de,n=be,r=Ae,a=H,i=et,o=ge,c=Be,l=mt,u=t.f;de=null,be=0,Ae=null,H=(u&(Ke|dt))===0?t:null,et=null,Lt(t.ctx),Be=!1,mt=++Yt,t.ac!==null&&(Nt(()=>{t.ac.abort(At)}),t.ac=null);try{t.f|=Sn;var d=t.fn,_=d(),v=t.deps;if(de!==null){var f;if(fn(t,be),v!==null&&be>0)for(v.length=be+de.length,f=0;f<de.length;f++)v[be+f]=de[f];else t.deps=v=de;if(Wt()&&(t.f&Ne)!==0)for(f=be;f<v.length;f++)(v[f].reactions??=[]).push(t)}else v!==null&&be<v.length&&(fn(t,be),v.length=be);if(or()&&Ae!==null&&!Be&&v!==null&&(t.f&(ie|Ge|ve))===0)for(f=0;f<Ae.length;f++)Ur(Ae[f],t);return a!==null&&a!==t&&(Yt++,Ae!==null&&(r===null?r=Ae:r.push(...Ae))),(t.f&it)!==0&&(t.f^=it),_}catch(p){return ur(p)}finally{t.f^=Sn,de=e,be=n,Ae=r,H=a,et=i,Lt(o),Be=c,mt=l}}function oi(t,e){let n=e.reactions;if(n!==null){var r=aa.call(n,t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(e.f&ie)!==0&&(de===null||!de.includes(e))&&(ue(e,Ge),(e.f&Ne)!==0&&(e.f^=Ne,e.f&=~vt),pr(e),fn(e,0))}function fn(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)oi(t,n[r])}function Gt(t){var e=t.f;if((e&Xe)===0){ue(t,le);var n=Y,r=gt;Y=t,gt=!0;try{(e&(Fe|fa))!==0?ii(t):Tr(t),Mr(t);var a=zr(t);t.teardown=typeof a=="function"?a:null,t.wv=Fr;var i;kn&&Fa&&(t.f&ve)!==0&&t.deps}finally{gt=r,Y=n}}}async function ci(){await Promise.resolve(),Ba()}function s(t){var e=t.f,n=(e&ie)!==0;if(H!==null&&!Be){var r=Y!==null&&(Y.f&Xe)!==0;if(!r&&!et?.includes(t)){var a=H.deps;if((H.f&Sn)!==0)t.rv<Yt&&(t.rv=Yt,de===null&&a!==null&&a[be]===t?be++:de===null?de=[t]:de.includes(t)||de.push(t));else{(H.deps??=[]).push(t);var i=t.reactions;i===null?t.reactions=[H]:i.includes(H)||i.push(H)}}}if(bt){if(st.has(t))return st.get(t);if(n){var o=t,c=o.v;return((o.f&le)===0&&o.reactions!==null||Vr(o))&&(c=Mn(o)),st.set(o,c),c}}else n&&(!Ee?.has(t)||K?.is_fork&&!Wt())&&(o=t,Kt(o)&&wr(o),gt&&Wt()&&(o.f&Ne)===0&&qr(o));if(Ee?.has(t))return Ee.get(t);if((t.f&it)!==0)throw t.v;return t.v}function qr(t){if(t.deps!==null){t.f^=Ne;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ie)!==0&&(e.f&Ne)===0&&qr(e)}}function Vr(t){if(t.v===oe)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(st.has(e)||(e.f&ie)!==0&&Vr(e))return!0;return!1}function Ot(t){var e=Be;try{return Be=!0,t()}finally{Be=e}}const ui=-7169;function ue(t,e){t.f=t.f&ui|e}const fi=["touchstart","touchmove"];function di(t){return fi.includes(t)}const Hr=new Set,Dn=new Set;function vi(t,e,n,r={}){function a(i){if(r.capture||Xt.call(e,i),!i.cancelBubble)return Nt(()=>n?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?ht(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function In(t,e,n,r,a){var i={capture:r,passive:a},o=vi(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Sr(()=>{e.removeEventListener(t,o,i)})}function yt(t){for(var e=0;e<t.length;e++)Hr.add(t[e]);for(var n of Dn)n(t)}let Wr=null;function Xt(t){var e=this,n=e.ownerDocument,r=t.type,a=t.composedPath?.()||[],i=a[0]||t.target;Wr=t;var o=0,c=Wr===t&&t.__root;if(c){var l=a.indexOf(c);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(i=a[o]||t.target,i!==e){ia(t,"currentTarget",{configurable:!0,get(){return i||n}});var d=H,_=Y;he(null),Ue(null);try{for(var v,f=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+r];g!=null&&(!i.disabled||t.target===i)&&g.call(i,t)}catch(h){v?f.push(h):v=h}if(t.cancelBubble||p===e||p===null)break;i=p}if(v){for(let h of f)queueMicrotask(()=>{throw h});throw v}}finally{t.__root=e,delete t.currentTarget,he(d),Ue(_)}}}function Yr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Dt(t,e){var n=Y;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function L(t,e){var n=(e&ir)!==0,r=(e&Oa)!==0,a,i=!t.startsWith("<!>");return()=>{a===void 0&&(a=Yr(i?t:"<!>"+t),n||(a=Ze(a)));var o=r||yr?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=Ze(o),l=o.lastChild;Dt(c,l)}else Dt(o,o);return o}}function _i(t,e,n="svg"){var r=!t.startsWith("<!>"),a=(e&ir)!==0,i=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var c=Yr(i),l=Ze(c);if(a)for(o=document.createDocumentFragment();Ze(l);)o.appendChild(Ze(l));else o=Ze(l)}var u=o.cloneNode(!0);if(a){var d=Ze(u),_=u.lastChild;Dt(d,_)}else Dt(u,u);return u}}function dn(t,e){return _i(t,e,"svg")}function It(t=""){{var e=Qe(t+"");return Dt(e,e),e}}function te(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Qe();return t.append(e,n),Dt(e,n),t}function b(t,e){t!==null&&t.before(e)}let Rn=!0;function Q(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function hi(t,e){return pi(t,e)}const Rt=new Map;function pi(t,{target:e,anchor:n,props:r={},events:a,context:i,intro:o=!0}){Qa();var c=new Set,l=_=>{for(var v=0;v<_.length;v++){var f=_[v];if(!c.has(f)){c.add(f);var p=di(f);e.addEventListener(f,Xt,{passive:p});var g=Rt.get(f);g===void 0?(document.addEventListener(f,Xt,{passive:p}),Rt.set(f,1)):Rt.set(f,g+1)}}};l(xn(Hr)),Dn.add(l);var u=void 0,d=ri(()=>{var _=n??e.appendChild(Qe());return Va(_,{pending:()=>{}},v=>{if(i){Pe({});var f=ge;f.c=i}a&&(r.$$events=a),Rn=o,u=t(v,r)||{},Rn=!0,i&&Oe()}),()=>{for(var v of c){e.removeEventListener(v,Xt);var f=Rt.get(v);--f===0?(document.removeEventListener(v,Xt),Rt.delete(v)):Rt.set(v,f)}Dn.delete(l),_!==n&&_.parentNode?.removeChild(_)}});return wi.set(u,d),u}let wi=new WeakMap;class Kr{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#o=!0;constructor(e,n=!0){this.anchor=e,this.#o=n}#i=()=>{var e=K;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)On(r),this.#n.delete(n);else{var a=this.#r.get(n);a&&(this.#t.set(n,a.effect),this.#r.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===e)break;const c=this.#r.get(o);c&&(_e(c.effect),this.#r.delete(o))}for(const[i,o]of this.#t){if(i===n||this.#n.has(i))continue;const c=()=>{if(Array.from(this.#e.values()).includes(i)){var u=document.createDocumentFragment();Dr(o,u),u.append(Qe()),this.#r.set(i,{effect:o,fragment:u})}else _e(o);this.#n.delete(i),this.#t.delete(i)};this.#o||!r?(this.#n.add(i),Pt(o,c,!1)):c()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,a]of this.#r)n.includes(r)||(_e(a.effect),this.#r.delete(r))};ensure(e,n){var r=K,a=Er();if(n&&!this.#t.has(e)&&!this.#r.has(e))if(a){var i=document.createDocumentFragment(),o=Qe();i.append(o),this.#r.set(e,{effect:Se(()=>n(o)),fragment:i})}else this.#t.set(e,Se(()=>n(this.anchor)));if(this.#e.set(r,e),a){for(const[c,l]of this.#t)c===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[c,l]of this.#r)c===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#i),r.ondiscard(this.#a)}else this.#i()}}function R(t,e,n=!1){var r=new Kr(t),a=n?at:0;function i(o,c){r.ensure(o,c)}cn(()=>{var o=!1;e((c,l=!0)=>{o=!0,i(l,c)}),o||i(!1,null)},a)}function Ft(t,e){return e}function gi(t,e,n){for(var r=[],a=e.length,i=0;i<a;i++)Pn(e[i].e,r,!0);Pr(r,()=>{var o=r.length===0&&n!==null;if(o){var c=n,l=c.parentNode;Za(l),l.append(c),t.items.clear(),De(t,e[0].prev,e[a-1].next)}for(var u=0;u<a;u++){var d=e[u];o||(t.items.delete(d.k),De(t,d.prev,d.next)),_e(d.e,!o)}t.first===e[0]&&(t.first=e[0].prev)})}function ot(t,e,n,r,a,i=null){var o=t,c=new Map,l=null,u=(e&ar)!==0,d=(e&nr)!==0,_=(e&rr)!==0;if(u){var v=t;o=v.appendChild(Qe())}var f=null,p=hr(()=>{var D=n();return Jn(D)?D:D==null?[]:xn(D)}),g,h=!0;function w(){bi(P,g,o,e,r),f!==null&&(g.length===0?(f.fragment?(o.before(f.fragment),f.fragment=null):On(f.effect),A.first=f.effect):Pt(f.effect,()=>{f=null}))}var A=cn(()=>{g=s(p);for(var D=g.length,x=new Set,k=K,y=null,C=Er(),N=0;N<D;N+=1){var V=g[N],I=r(V,N),M=h?null:c.get(I);M?(d&&Tt(M.v,V),_&&Tt(M.i,N),C&&k.skipped_effects.delete(M.e)):(M=mi(h?o:null,y,V,I,N,a,e,n),h&&(M.o=!0,y===null?l=M:y.next=M,y=M),c.set(I,M)),x.add(I)}if(D===0&&i&&!f)if(h)f={fragment:null,effect:Se(()=>i(o))};else{var z=document.createDocumentFragment(),Z=Qe();z.append(Z),f={fragment:z,effect:Se(()=>i(Z))}}if(!h)if(C){for(const[fe,ee]of c)x.has(fe)||k.skipped_effects.add(ee.e);k.oncommit(w),k.ondiscard(()=>{})}else w();s(p)}),P={effect:A,items:c,first:l};h=!1}function bi(t,e,n,r,a){var i=(r&Sa)!==0,o=e.length,c=t.items,l=t.first,u,d=null,_,v=[],f=[],p,g,h,w;if(i)for(w=0;w<o;w+=1)p=e[w],g=a(p,w),h=c.get(g),h.o&&(h.e.nodes?.a?.measure(),(_??=new Set).add(h));for(w=0;w<o;w+=1){if(p=e[w],g=a(p,w),h=c.get(g),t.first??=h,!h.o){h.o=!0;var A=d?d.next:l;De(t,d,h),De(t,h,A),Fn(h,A,n),d=h,v=[],f=[],l=d.next;continue}if((h.e.f&we)!==0&&(On(h.e),i&&(h.e.nodes?.a?.unfix(),(_??=new Set).delete(h))),h!==l){if(u!==void 0&&u.has(h)){if(v.length<f.length){var P=f[0],D;d=P.prev;var x=v[0],k=v[v.length-1];for(D=0;D<v.length;D+=1)Fn(v[D],P,n);for(D=0;D<f.length;D+=1)u.delete(f[D]);De(t,x.prev,k.next),De(t,d,x),De(t,k,P),l=P,d=k,w-=1,v=[],f=[]}else u.delete(h),Fn(h,l,n),De(t,h.prev,h.next),De(t,h,d===null?t.first:d.next),De(t,d,h),d=h;continue}for(v=[],f=[];l!==null&&l!==h;)(l.e.f&we)===0&&(u??=new Set).add(l),f.push(l),l=l.next;if(l===null)continue;h=l}v.push(h),d=h,l=h.next}let y=c.size>o;if(l!==null||u!==void 0){for(var C=u===void 0?[]:xn(u);l!==null;)(l.e.f&we)===0&&C.push(l),l=l.next;var N=C.length;if(y=c.size-N>o,N>0){var V=(r&ar)!==0&&o===0?n:null;if(i){for(w=0;w<N;w+=1)C[w].e.nodes?.a?.measure();for(w=0;w<N;w+=1)C[w].e.nodes?.a?.fix()}gi(t,C,V)}}if(y)for(const I of c.values())I.o||(De(t,d,I),d=I);t.effect.last=d&&d.e,i&&ht(()=>{if(_!==void 0)for(h of _)h.e.nodes?.a?.apply()})}function mi(t,e,n,r,a,i,o,c){var l=(o&nr)!==0,u=(o&Aa)===0,d=l?u?Xa(n,!1,!1):wt(n):n,_=(o&rr)===0?a:wt(a),v={i:_,v:d,k:r,e:null,o:!1,prev:e,next:null};if(t===null){var f=document.createDocumentFragment();f.append(t=Qe())}return v.e=Se(()=>i(t,d,_,c)),e!==null&&(e.next=v),v}function Fn(t,e,n){if(t.e.nodes)for(var r=t.next?t.next.e.nodes.start:n,a=e?e.e.nodes.start:n,i=t.e.nodes.start;i!==null&&i!==r;){var o=Ht(i);a.before(i),i=o}}function De(t,e,n){e===null?(t.first=n,t.effect.first=n&&n.e):(e.e.next&&(e.e.next.prev=null),e.next=n,e.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=e,n.e.prev=e&&e.e)}function Le(t,e,...n){var r=new Kr(t);cn(()=>{const a=e()??null;r.ensure(a,a&&(i=>a(i,...n)))},at)}const yi=()=>performance.now(),tt={tick:t=>requestAnimationFrame(t),now:()=>yi(),tasks:new Set};function Gr(){const t=tt.now();tt.tasks.forEach(e=>{e.c(t)||(tt.tasks.delete(e),e.f())}),tt.tasks.size!==0&&tt.tick(Gr)}function ki(t){let e;return tt.tasks.size===0&&tt.tick(Gr),{promise:new Promise(n=>{tt.tasks.add(e={c:t,f:n})}),abort(){tt.tasks.delete(e)}}}function vn(t,e){Nt(()=>{t.dispatchEvent(new CustomEvent(e))})}function xi(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Xr(t){const e={},n=t.split(";");for(const r of n){const[a,i]=r.split(":");if(!a||i===void 0)break;const o=xi(a.trim());e[o]=i.trim()}return e}const Ei=t=>t;function Jr(t,e,n,r){var a=(t&Pa)!==0,i="both",o,c=e.inert,l=e.style.overflow,u,d;function _(){return Nt(()=>o??=n()(e,r?.()??{},{direction:i}))}var v={is_global:a,in(){e.inert=c,vn(e,"introstart"),u=jn(e,_(),d,1,()=>{vn(e,"introend"),u?.abort(),u=o=void 0,e.style.overflow=l})},out(h){e.inert=!0,vn(e,"outrostart"),d=jn(e,_(),u,0,()=>{vn(e,"outroend"),h?.()})},stop:()=>{u?.abort(),d?.abort()}},f=Y;if((f.nodes.t??=[]).push(v),Rn){var p=a;if(!p){for(var g=f.parent;g&&(g.f&at)!==0;)for(;(g=g.parent)&&(g.f&Fe)===0;);p=!g||(g.f&nn)!==0}p&&Lr(()=>{Ot(()=>v.in())})}}function jn(t,e,n,r,a){var i=r===1;if(ca(e)){var o,c=!1;return ht(()=>{if(!c){var h=e({direction:i?"in":"out"});o=jn(t,h,n,r,a)}}),{abort:()=>{c=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!e?.duration)return a(),{abort:Ct,deactivate:Ct,reset:Ct,t:()=>r};const{delay:l=0,css:u,tick:d,easing:_=Ei}=e;var v=[];if(i&&n===void 0&&(d&&d(0,1),u)){var f=Xr(u(0,1));v.push(f,f)}var p=()=>1-r,g=t.animate(v,{duration:l,fill:"forwards"});return g.onfinish=()=>{g.cancel();var h=n?.t()??1-r;n?.abort();var w=r-h,A=e.duration*Math.abs(w),P=[];if(A>0){var D=!1;if(u)for(var x=Math.ceil(A/16.666666666666668),k=0;k<=x;k+=1){var y=h+w*_(k/x),C=Xr(u(y,1-y));P.push(C),D||=C.overflow==="hidden"}D&&(t.style.overflow="hidden"),p=()=>{var N=g.currentTime;return h+w*_(N/A)},d&&ki(()=>{if(g.playState!=="running")return!1;var N=p();return d(N,1-N),!0})}g=t.animate(P,{duration:A,fill:"forwards"}),g.onfinish=()=>{p=()=>r,d?.(r,1-r),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=Ct)},deactivate:()=>{a=Ct},reset:()=>{r===0&&d?.(1,0)},t:()=>p()}}const Qr=[...` 	
\r\fÂ \v\uFEFF`];function Ci(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,o=0;(o=r.indexOf(a,o))>=0;){var c=o+i;(o===0||Qr.includes(r[o-1]))&&(c===r.length||Qr.includes(r[c]))?r=(o===0?"":r.substring(0,o))+r.substring(c+1):o=c}}return r===""?null:r}function Si(t,e){return t==null?null:String(t)}function ae(t,e,n,r,a,i){var o=t.__className;if(o!==n||o===void 0){var c=Ci(n,r,i);c==null?t.removeAttribute("class"):t.className=c,t.__className=n}else if(i&&a!==i)for(var l in i){var u=!!i[l];(a==null||u!==!!a[l])&&t.classList.toggle(l,u)}return i}function ct(t,e,n,r){var a=t.__style;if(a!==e){var i=Si(e);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}return r}const Ai=Symbol("is custom element"),Li=Symbol("is html");function J(t,e,n,r){var a=Mi(t);a[e]!==(a[e]=n)&&(e==="loading"&&(t[_a]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Ti(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Mi(t){return t.__attributes??={[Ai]:t.nodeName.includes("-"),[Li]:t.namespaceURI===Da}}var Zr=new Map;function Ti(t){var e=t.getAttribute("is")||t.nodeName,n=Zr.get(e);if(n)return n;Zr.set(e,n=[]);for(var r,a=t,i=Element.prototype;i!==a;){r=sa(a);for(var o in r)r[o].set&&n.push(o);a=Qn(a)}return n}function Bn(t,e,n=e){var r=new WeakSet;ei(t,"input",async a=>{var i=a?t.defaultValue:t.value;if(i=Un(t)?zn(i):i,n(i),K!==null&&r.add(K),await ci(),i!==(i=e())){var o=t.selectionStart,c=t.selectionEnd,l=t.value.length;if(t.value=i??"",c!==null){var u=t.value.length;o===c&&c===l&&u>l?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=o,t.selectionEnd=Math.min(c,u))}}}),Ot(e)==null&&t.value&&(n(Un(t)?zn(t.value):t.value),K!==null&&r.add(K)),Nn(()=>{var a=e();if(t===document.activeElement){var i=an??K;if(r.has(i))return}Un(t)&&a===zn(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Un(t){var e=t.type;return e==="number"||e==="range"}function zn(t){return t===""?null:+t}function $r(t,e){return t===e||t?.[zt]===e}function _n(t={},e,n,r){return Lr(()=>{var a,i;return Nn(()=>{a=i,i=[],Ot(()=>{t!==n(...i)&&(e(t,...i),a&&$r(n(...a),t)&&e(null,...a))})}),()=>{ht(()=>{i&&$r(n(...i),t)&&e(null,...i)})}}),t}let hn=!1;function Ni(t){var e=hn;try{return hn=!1,[t(),hn]}finally{hn=e}}function F(t,e,n,r){var a=(n&Ta)!==0,i=(n&Na)!==0,o=r,c=!0,l=()=>(c&&(c=!1,o=i?Ot(r):r),o),u;if(a){var d=zt in t||va in t;u=Et(t,e)?.set??(d&&e in t?A=>t[e]=A:void 0)}var _,v=!1;a?[_,v]=Ni(()=>t[e]):_=t[e],_===void 0&&r!==void 0&&(_=l(),u&&(ya(),u(_)));var f;if(f=()=>{var A=t[e];return A===void 0?l():(c=!0,A)},(n&Ma)===0)return f;if(u){var p=t.$$legacy;return(function(A,P){return arguments.length>0?((!P||p||v)&&u(P?f():A),A):f()})}var g=!1,h=((n&La)!==0?on:hr)(()=>(g=!1,f()));a&&s(h);var w=Y;return(function(A,P){if(arguments.length>0){const D=P?s(h):a?ce(A):A;return S(h,D),g=!0,o!==void 0&&(o=D),A}return bt&&g||(w.f&Xe)!==0?h.v:s(h)})}function ea(t){ge===null&&ha(),lt(()=>{const e=Ot(t);if(typeof e=="function")return e})}const Pi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Pi);const Oi=t=>t;function Di(t,{delay:e=0,duration:n=400,easing:r=Oi}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*a}`}}function Ii(t){const e=t-1;return e*e*e+1}function Ri(t,{duration:e=300,easing:n=Ii,y:r=20,scale:a=.95}={}){return{duration:e,easing:n,css:i=>{const o=(1-i)*r,c=a+i*(1-a);return`
        transform: translateY(${o}px) scale(${c});
        opacity: ${i};
      `}}}var Fi=L('<h3 class="wpea-modal__title"> </h3>'),ji=L('<div class="wpea-modal__footer"><!></div>'),Bi=L('<div><div class="wpea-modal__backdrop" role="button" tabindex="0" aria-label="Close modal"></div> <div class="wpea-modal__container"><div class="wpea-modal__header"><!> <button class="wpea-modal__close" aria-label="Close">&times;</button></div> <div class="wpea-modal__body wpea-scope"><!></div> <!></div></div>');function Ui(t,e){Pe(e,!0);let n=F(e,"open",15,!1),r=F(e,"size",3,"standard"),a=F(e,"title",3,""),i=F(e,"class",3,"");const o=q(()=>r()==="large"?"wpea-modal--large":r()==="fullscreen"?"wpea-modal--fullscreen":"");function c(){n(!1),e.onClose?.()}function l(){c()}function u(p){(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),c())}function d(p){p.key==="Escape"&&c()}lt(()=>(n()?(document.body.style.overflow="hidden",document.addEventListener("keydown",d)):document.body.style.overflow="",()=>{document.body.style.overflow="",document.removeEventListener("keydown",d)}));var _=te(),v=G(_);{var f=p=>{var g=Bi(),h=m(g);h.__click=l,h.__keydown=u;var w=j(h,2),A=m(w),P=m(A);{var D=M=>{var z=te(),Z=G(z);Le(Z,()=>e.header),b(M,z)},x=M=>{var z=Fi(),Z=m(z);B(()=>Q(Z,a())),b(M,z)};R(P,M=>{e.header?M(D):M(x,!1)})}var k=j(P,2);k.__click=c;var y=j(A,2),C=m(y);{var N=M=>{var z=te(),Z=G(z);Le(Z,()=>e.children),b(M,z)};R(C,M=>{e.children&&M(N)})}var V=j(y,2);{var I=M=>{var z=ji(),Z=m(z);Le(Z,()=>e.footer),b(M,z)};R(V,M=>{e.footer&&M(I)})}B(()=>{ae(g,1,`wpea wpea-full wpea-modal wpea-modal--open ${s(o)??""} ${i()??""}`),ct(g,`font-family: var(--wpea-font-sans); z-index: 999999 !important; ${(e.style||"")??""}`)}),Jr(3,w,()=>Ri,()=>({duration:300})),Jr(3,g,()=>Di,()=>({duration:200})),b(p,g)};R(v,p=>{n()&&p(f)})}b(t,_),Oe()}yt(["click","keydown"]);var zi=L("<button><!></button>");function pn(t,e){let n=F(e,"variant",3,"primary"),r=F(e,"disabled",3,!1),a=F(e,"type",3,"button"),i=F(e,"class",3,""),o=q(()=>n()?`wpea-btn--${n()}`:""),c=q(()=>e.size?`wpea-btn--${e.size}`:"");var l=zi();l.__click=function(..._){e.onclick?.apply(this,_)};var u=m(l);{var d=_=>{var v=te(),f=G(v);Le(f,()=>e.children),b(_,v)};R(u,_=>{e.children&&_(d)})}B(()=>{ae(l,1,`wpea-btn ${s(o)??""} ${s(c)??""} ${i()??""}`),ct(l,e.style),J(l,"type",a()),l.disabled=r()}),b(t,l)}yt(["click"]);var qi=L('<div class="wpea-card__title"> </div>'),Vi=L('<div class="wpea-card__sub"> </div>'),Hi=L("<!> <!>",1),Wi=L('<div class="wpea-card__actions"><!></div>'),Yi=L('<div class="wpea-card__header"><div><!></div> <!></div>'),Ki=L("<div><!> <!></div>");function qn(t,e){let n=F(e,"muted",3,!1),r=F(e,"hover",3,!1),a=F(e,"class",3,""),i=q(()=>n()?"wpea-card--muted":""),o=q(()=>r()?"wpea-card--hover":""),c=q(()=>e.title||e.subtitle||e.header||e.actions);var l=Ki(),u=m(l);{var d=f=>{var p=Yi(),g=m(p),h=m(g);{var w=x=>{var k=te(),y=G(k);Le(y,()=>e.header),b(x,k)},A=x=>{var k=Hi(),y=G(k);{var C=I=>{var M=qi(),z=m(M);B(()=>Q(z,e.title)),b(I,M)};R(y,I=>{e.title&&I(C)})}var N=j(y,2);{var V=I=>{var M=Vi(),z=m(M);B(()=>Q(z,e.subtitle)),b(I,M)};R(N,I=>{e.subtitle&&I(V)})}b(x,k)};R(h,x=>{e.header?x(w):x(A,!1)})}var P=j(g,2);{var D=x=>{var k=Wi(),y=m(k);Le(y,()=>e.actions),b(x,k)};R(P,x=>{e.actions&&x(D)})}b(f,p)};R(u,f=>{s(c)&&f(d)})}var _=j(u,2);{var v=f=>{var p=te(),g=G(p);Le(g,()=>e.children),b(f,p)};R(_,f=>{e.children&&f(v)})}B(()=>{ae(l,1,`wpea-card ${s(i)??""} ${s(o)??""} ${a()??""}`),ct(l,e.style)}),b(t,l)}var Gi=L('<div class="wpea-popover"><button type="button" class="wpea-toggle-3state__btn"><!> <span> </span></button> <div> </div></div>'),Xi=L('<button type="button" class="wpea-toggle-3state__btn"><!> <span> </span></button>'),Ji=L('<div role="group"></div>');function ta(t,e){Pe(e,!0);let n=F(e,"value",15,""),r=F(e,"ariaLabel",3,"Toggle selection"),a=F(e,"disabled",3,!1),i=F(e,"iconOnly",3,!1),o=F(e,"showPopover",3,!1),c=F(e,"popoverPosition",3,"top"),l=F(e,"popoverSize",3,"xs"),u=F(e,"class",3,"");function d(h){a()||(n(h.value),e.onChange?.(h.value))}function _(h,w){(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),d(w))}const v=q(()=>i()?"wpea-toggle-3state wpea-toggle-3state--icon-only":"wpea-toggle-3state"),f=q(()=>`wpea-popover__content--${c()}`),p=q(()=>`wpea-popover__content--${l()}`);var g=Ji();ot(g,21,()=>e.options,Ft,(h,w)=>{var A=te(),P=G(A);{var D=k=>{var y=Gi(),C=m(y);C.__click=()=>d(s(w)),C.__keydown=fe=>_(fe,s(w));var N=m(C);{var V=fe=>{var ee=te(),Me=G(ee);Le(Me,()=>s(w).icon),b(fe,ee)};R(N,fe=>{s(w).icon&&fe(V)})}var I=j(N,2),M=m(I),z=j(C,2),Z=m(z);B(()=>{J(C,"aria-pressed",n()===s(w).value),J(C,"aria-label",s(w).label),C.disabled=a(),Q(M,s(w).label),ae(z,1,`wpea-popover__content ${s(f)??""} ${s(p)??""}`),Q(Z,s(w).label)}),b(k,y)},x=k=>{var y=Xi();y.__click=()=>d(s(w)),y.__keydown=M=>_(M,s(w));var C=m(y);{var N=M=>{var z=te(),Z=G(z);Le(Z,()=>s(w).icon),b(M,z)};R(C,M=>{s(w).icon&&M(N)})}var V=j(C,2),I=m(V);B(()=>{J(y,"aria-pressed",n()===s(w).value),J(y,"aria-label",i()?s(w).label:void 0),y.disabled=a(),Q(I,s(w).label)}),b(k,y)};R(P,k=>{o()&&i()?k(D):k(x,!1)})}b(h,A)}),B(()=>{ae(g,1,`${s(v)??""} ${u()??""}`),ct(g,e.style),J(g,"aria-label",r())}),b(t,g),Oe()}yt(["click","keydown"]);var Qi=L('<label class="wpea-label"> </label>'),Zi=L('<span class="wpea-select2__tag"><span class="wpea-select2__tag-label"> </span> <button type="button" class="wpea-select2__tag-remove" tabindex="-1"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button></span>'),$i=L('<input type="text" class="wpea-select2__input"/>'),es=L('<span class="wpea-select2__placeholder"> </span>'),ts=L('<button type="button" class="wpea-select2__clear" tabindex="-1" aria-label="Clear all"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>'),ns=dn('<svg class="wpea-select2__option-check" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M11.5 4L5.5 10L2.5 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),rs=L('<div role="option" tabindex="-1"> <!></div>'),as=L('<div class="wpea-select2__no-options">No options</div>'),is=L('<div class="wpea-select2__menu" role="listbox" aria-multiselectable="true"><div class="wpea-select2__menu-list"></div></div>'),ss=L('<span class="wpea-help"> </span>'),ls=L('<div><!> <div><div class="wpea-select2__control" role="combobox" aria-haspopup="listbox"><div class="wpea-select2__value-container"><!> <!></div> <div class="wpea-select2__indicators"><!> <span class="wpea-select2__separator"></span> <span class="wpea-select2__dropdown-indicator"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></div></div> <!></div> <!></div>');function os(t,e){Pe(e,!0);let n=F(e,"value",31,()=>ce([])),r=F(e,"options",19,()=>[]),a=F(e,"placeholder",3,"Select..."),i=F(e,"disabled",3,!1),o=F(e,"searchable",3,!0),c=F(e,"clearable",3,!0),l=F(e,"excludeValues",19,()=>[]),u=F(e,"class",3,""),d=W(!1),_=W(""),v=W(-1),f,p=W(null);const g=`wpea-select2-listbox-${Math.random().toString(36).slice(2,9)}`;let h=q(()=>r().filter(O=>!l().includes(O.value))),w=q(()=>s(_)?s(h).filter(O=>O.label.toLowerCase().includes(s(_).toLowerCase())&&!O.disabled):s(h).filter(O=>!O.disabled)),A=q(()=>n().map(O=>r().find(U=>U.value===O)).filter(Boolean)),P=q(()=>!e.maxItems||n().length<e.maxItems);function D(){i()||(S(d,!s(d)),s(d)&&(S(_,""),S(v,-1),setTimeout(()=>s(p)?.focus(),10)))}function x(O){!s(P)&&!n().includes(O.value)||(n().includes(O.value)?n(n().filter(U=>U!==O.value)):n([...n(),O.value]),S(_,""),e.onchange?.(n()))}function k(O,U){U?.stopPropagation(),n(n().filter(ne=>ne!==O)),e.onchange?.(n())}function y(O){O.stopPropagation(),n([]),e.onchange?.(n())}function C(O){switch(O.key){case"Escape":S(d,!1);break;case"ArrowDown":O.preventDefault(),s(d)?S(v,Math.min(s(v)+1,s(w).length-1),!0):S(d,!0);break;case"ArrowUp":O.preventDefault(),S(v,Math.max(s(v)-1,0),!0);break;case"Enter":O.preventDefault(),s(v)>=0&&s(w)[s(v)]&&x(s(w)[s(v)]);break;case"Backspace":s(_)===""&&n().length>0&&k(n()[n().length-1]);break}}function N(O){f&&!f.contains(O.target)&&S(d,!1)}lt(()=>{if(s(d))return document.addEventListener("click",N),()=>document.removeEventListener("click",N)});let V=q(()=>e.color?`wpea-select2--${e.color}`:"");var I=ls(),M=m(I);{var z=O=>{var U=Qi(),ne=m(U);B(()=>{J(U,"for",e.id),Q(ne,e.label)}),b(O,U)};R(M,O=>{e.label&&O(z)})}var Z=j(M,2);let fe;var ee=m(Z);ee.__click=D,ee.__keydown=C;var Me=m(ee),ut=m(Me);ot(ut,17,()=>s(A),Ft,(O,U)=>{var ne=Zi(),ze=m(ne),se=m(ze),qe=j(ze,2);qe.__click=ye=>k(s(U).value,ye),B(()=>{Q(se,s(U).label),J(qe,"aria-label",`Remove ${s(U).label??""}`)}),b(O,ne)});var re=j(ut,2);{var me=O=>{var U=$i();U.__keydown=C,U.__click=ne=>ne.stopPropagation(),_n(U,ne=>S(p,ne),()=>s(p)),B(()=>{J(U,"placeholder",n().length===0?a():""),U.disabled=i()}),Bn(U,()=>s(_),ne=>S(_,ne)),b(O,U)},Te=O=>{var U=te(),ne=G(U);{var ze=se=>{var qe=es(),ye=m(qe);B(()=>Q(ye,a())),b(se,qe)};R(ne,se=>{n().length===0&&se(ze)},!0)}b(O,U)};R(re,O=>{o()&&s(d)?O(me):O(Te,!1)})}var nt=j(Me,2),jt=m(nt);{var Ie=O=>{var U=ts();U.__click=y,b(O,U)};R(jt,O=>{c()&&n().length>0&&O(Ie)})}var Bt=j(ee,2);{var Ut=O=>{var U=is(),ne=m(U);ot(ne,21,()=>s(w),Ft,(ze,se,qe)=>{var ye=rs();let wn;ye.__click=()=>x(s(se)),ye.__keydown=T=>{(T.key==="Enter"||T.key===" ")&&x(s(se))};var gn=m(ye),Hn=j(gn);{var E=T=>{var $=ns();b(T,$)};R(Hn,T=>{n().includes(s(se).value)&&T(E)})}B((T,$)=>{wn=ae(ye,1,"wpea-select2__option",null,wn,T),J(ye,"aria-selected",$),Q(gn,`${s(se).label??""} `)},[()=>({"wpea-select2__option--selected":n().includes(s(se).value),"wpea-select2__option--highlighted":qe===s(v),"wpea-select2__option--disabled":!s(P)&&!n().includes(s(se).value)}),()=>n().includes(s(se).value)]),In("mouseenter",ye,()=>S(v,qe,!0)),b(ze,ye)},ze=>{var se=as();b(ze,se)}),B(()=>J(U,"id",g)),b(O,U)};R(Bt,O=>{s(d)&&O(Ut)})}_n(Z,O=>f=O,()=>f);var Jt=j(Z,2);{var Qt=O=>{var U=ss(),ne=m(U);B(()=>Q(ne,e.help)),b(O,U)};R(Jt,O=>{e.help&&O(Qt)})}B(()=>{ae(I,1,`wpea-field ${u()??""}`),ct(I,e.style),fe=ae(Z,1,`wpea-select2 ${s(V)??""}`,null,fe,{"wpea-select2--open":s(d),"wpea-select2--disabled":i(),"wpea-select2--has-value":n().length>0}),J(ee,"aria-controls",g),J(ee,"aria-expanded",s(d)),J(ee,"tabindex",i()?-1:0)}),b(t,I),Oe()}yt(["click","keydown"]);var cs=L('<p class="wpea-text-muted wpea-text-sm">No conditions set. Menu item will be visible to all users.</p>'),us=L('<div class="condition-relation svelte-1kvudr9"><!></div>'),fs=L('<div class="condition-row svelte-1kvudr9"><div class="condition-fields svelte-1kvudr9"><div class="condition-operator svelte-1kvudr9"><!></div> <div class="condition-capability svelte-1kvudr9"><!></div> <div class="condition-remove svelte-1kvudr9"><!></div></div> <!></div>'),ds=L('<div class="conditions-repeater svelte-1kvudr9"><!> <div style="margin-top: var(--wpea-space--md);"><!></div></div>');function vs(t,e){Pe(e,!0);let n=F(e,"conditions",31,()=>ce([])),r=F(e,"relation",15,"AND"),a=F(e,"capabilities",19,()=>[]);function i(){n([...n(),{operator:"has",capability:""}]),e.onUpdate(n())}function o(_){n(n().filter((v,f)=>f!==_)),e.onUpdate(n())}function c(_,v){n(n()[_]={...n()[_],capability:String(v)},!0),e.onUpdate(n())}function l(_,v){n(n()[_]={...n()[_],operator:v},!0),e.onUpdate(n())}function u(_){r(_)}function d(_){return n().filter((v,f)=>f!==_).map(v=>v.capability).filter(Boolean)}qn(t,{title:"Conditions",children:(_,v)=>{var f=ds(),p=m(f);{var g=P=>{var D=cs();b(P,D)},h=P=>{var D=te(),x=G(D);ot(x,17,n,Ft,(k,y,C)=>{var N=fs(),V=m(N),I=m(V),M=m(I);ta(M,{get value(){return s(y).operator},onChange:re=>l(C,re),options:[{value:"has",label:"Has"},{value:"has_not",label:"Has Not"}],ariaLabel:"Condition operator"});var z=j(I,2),Z=m(z);{let re=q(()=>s(y).capability?"Search capabilities...":"Select a capability..."),me=q(()=>d(C));os(Z,{id:`capability-${C}`,label:"",get placeholder(){return s(re)},get value(){return s(y).capability},get options(){return a()},multiple:!1,get excludeValues(){return s(me)},onchange:Te=>c(C,Te)})}var fe=j(z,2),ee=m(fe);pn(ee,{variant:"danger",size:"s",onclick:()=>o(C),children:(re,me)=>{var Te=It("Remove");b(re,Te)},$$slots:{default:!0}});var Me=j(V,2);{var ut=re=>{var me=us(),Te=m(me);ta(Te,{get value(){return r()},onChange:u,options:[{value:"AND",label:"AND"},{value:"OR",label:"OR"}],ariaLabel:"Condition relation"}),b(re,me)};R(Me,re=>{C<n().length-1&&re(ut)})}b(k,N)}),b(P,D)};R(p,P=>{n().length===0?P(g):P(h,!1)})}var w=j(p,2),A=m(w);pn(A,{variant:"secondary",onclick:i,children:(P,D)=>{var x=It("Add Condition");b(P,x)},$$slots:{default:!0}}),b(_,f)},$$slots:{default:!0}}),Oe()}var _s=L('<label class="wpea-label"> </label>'),hs=L('<span class="wpea-select2__tag"><span class="wpea-select2__tag-label"> </span> <button type="button" class="wpea-select2__tag-remove" tabindex="-1"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button></span>'),ps=L('<span class="wpea-select2__single-value"> </span>'),ws=L('<input type="text" class="wpea-select2__input"/>'),gs=L('<span class="wpea-select2__placeholder"> </span>'),bs=L('<button type="button" class="wpea-select2__clear" tabindex="-1" aria-label="Clear all"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>'),ms=dn('<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',1),ys=dn('<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',1),ks=L('<button type="button"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><!></svg></button> <button type="button"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10.5 3.5L3.5 10.5M3.5 3.5L10.5 10.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>',1),xs=L('<span class="wpea-select2__option-protected" aria-label="Protected"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M4.93 4.93l14.14 14.14"></path></svg></span>'),Es=L('<div class="wpea-select2__option-actions"><!></div>'),Cs=dn('<svg class="wpea-select2__option-check" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M11.5 4L5.5 10L2.5 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),Ss=L('<div role="option" tabindex="-1"><span class="wpea-select2__option-label"> </span> <!></div>'),As=L('<div class="wpea-select2__no-options">No options</div>'),Ls=L('<div role="option" tabindex="-1" aria-selected="false"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" style="margin-right: 6px;"><path d="M7 2.5V11.5M2.5 7H11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg> </div>'),Ms=L('<div class="wpea-select2__menu" role="listbox"><div class="wpea-select2__menu-list"><!> <!></div></div>'),Ts=L('<span class="wpea-help"> </span>'),Ns=L('<div class="wpea-field"><!> <div><div class="wpea-select2__control" role="combobox" aria-haspopup="listbox"><div class="wpea-select2__value-container"><!> <!></div> <div class="wpea-select2__indicators"><!> <span class="wpea-select2__separator"></span> <span class="wpea-select2__dropdown-indicator"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3.5 5.25L7 8.75L10.5 5.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></div></div> <!></div> <!></div>');function Ps(t,e){Pe(e,!0);let n=F(e,"value",31,()=>ce([])),r=F(e,"options",19,()=>[]),a=F(e,"placeholder",3,"Select..."),i=F(e,"disabled",3,!1),o=F(e,"searchable",3,!0),c=F(e,"clearable",3,!0),l=F(e,"multiple",3,!0),u=F(e,"creatable",3,!1),d=F(e,"manageable",3,!1),_=W(!1),v=W(""),f=W(-1),p,g=W(null);const h=`wpea-select2-listbox-${Math.random().toString(36).slice(2,9)}`;let w=q(()=>Array.isArray(n())?n():n()?[n()]:[]),A=q(()=>s(v)?r().filter(E=>E.label.toLowerCase().includes(s(v).toLowerCase())&&!E.disabled):r().filter(E=>!E.disabled)),P=q(()=>s(w).map(E=>r().find(T=>T.value===E)).filter(Boolean)),D=q(()=>l()?!e.maxItems||s(w).length<e.maxItems:!0),x=q(()=>r().some(E=>E.label.toLowerCase()===s(v).toLowerCase())),k=q(()=>u()&&s(v).trim()!==""&&!s(x)&&s(D));function y(E,T){const $=new CustomEvent(`AdvancedSelect:${E}`,{bubbles:!0,detail:{component:p,id:e.id,...T}});p?.dispatchEvent($)}function C(E){l()?(n(E),e.onchange?.(E)):(n(E[0]||""),e.onchange?.(E[0]||""))}function N(){i()||(S(_,!s(_)),s(_)&&(S(v,""),S(f,-1),setTimeout(()=>s(g)?.focus(),10)))}function V(E){if(!s(D)&&!s(w).includes(E.value))return;let T;l()?s(w).includes(E.value)?T=s(w).filter($=>$!==E.value):T=[...s(w),E.value]:(T=[E.value],S(_,!1)),S(v,""),C(T)}function I(E,T){T?.stopPropagation();const $=s(w).filter(Ve=>Ve!==E);C($)}function M(E){E.stopPropagation(),C([])}function z(){s(v).trim()&&(y("create",{value:s(v).trim(),query:s(v).trim()}),S(v,""))}function Z(E,T){T.stopPropagation(),!(!E.deletable||E.locked)&&y("delete",{value:E.value,option:E})}function fe(E,T){T.stopPropagation(),y("lock",{value:E.value,option:E})}function ee(E){switch(E.key){case"Escape":S(_,!1);break;case"ArrowDown":if(E.preventDefault(),!s(_))S(_,!0);else{const T=s(A).length+(s(k)?0:-1);S(f,Math.min(s(f)+1,T),!0)}break;case"ArrowUp":E.preventDefault(),S(f,Math.max(s(f)-1,0),!0);break;case"Enter":E.preventDefault(),s(k)&&(s(f)===s(A).length||s(A).length===0)?z():s(f)>=0&&s(A)[s(f)]&&V(s(A)[s(f)]);break;case"Backspace":s(v)===""&&s(w).length>0&&I(s(w)[s(w).length-1]);break}}function Me(E){p&&!p.contains(E.target)&&S(_,!1)}lt(()=>{if(s(_))return document.addEventListener("click",Me),()=>document.removeEventListener("click",Me)});let ut=q(()=>e.color?`wpea-select2--${e.color}`:"");var re=Ns(),me=m(re);{var Te=E=>{var T=_s(),$=m(T);B(()=>{J(T,"for",e.id),Q($,e.label)}),b(E,T)};R(me,E=>{e.label&&E(Te)})}var nt=j(me,2);let jt;var Ie=m(nt);Ie.__click=N,Ie.__keydown=ee;var Bt=m(Ie),Ut=m(Bt);{var Jt=E=>{var T=te(),$=G(T);ot($,17,()=>s(P),Ft,(Ve,ke)=>{var He=hs(),pe=m(He),X=m(pe),We=j(pe,2);We.__click=xe=>I(s(ke).value,xe),B(()=>{Q(X,s(ke).label),J(We,"aria-label",`Remove ${s(ke).label??""}`)}),b(Ve,He)}),b(E,T)},Qt=E=>{var T=te(),$=G(T);{var Ve=ke=>{var He=ps(),pe=m(He);B(()=>Q(pe,s(P)[0].label)),b(ke,He)};R($,ke=>{s(P).length>0&&!s(_)&&ke(Ve)},!0)}b(E,T)};R(Ut,E=>{l()?E(Jt):E(Qt,!1)})}var O=j(Ut,2);{var U=E=>{var T=ws();T.__keydown=ee,T.__click=$=>$.stopPropagation(),_n(T,$=>S(g,$),()=>s(g)),B(()=>{J(T,"placeholder",s(w).length===0?a():l()?"":a()),T.disabled=i()}),Bn(T,()=>s(v),$=>S(v,$)),b(E,T)},ne=E=>{var T=te(),$=G(T);{var Ve=ke=>{var He=gs(),pe=m(He);B(()=>Q(pe,a())),b(ke,He)};R($,ke=>{s(w).length===0&&ke(Ve)},!0)}b(E,T)};R(O,E=>{o()&&s(_)?E(U):E(ne,!1)})}var ze=j(Bt,2),se=m(ze);{var qe=E=>{var T=bs();T.__click=M,b(E,T)};R(se,E=>{c()&&s(w).length>0&&E(qe)})}var ye=j(Ie,2);{var wn=E=>{var T=Ms(),$=m(T),Ve=m($);ot(Ve,17,()=>s(A),Ft,(pe,X,We)=>{var xe=Ss();let rt;xe.__click=()=>V(s(X)),xe.__keydown=Re=>{(Re.key==="Enter"||Re.key===" ")&&V(s(X))};var bn=m(xe),rl=m(bn),al=j(bn,2);{var il=Re=>{var kt=Es(),Wn=m(kt);{var Yn=ft=>{var $t=ks(),xt=G($t);let mn;xt.__click=Ye=>fe(s(X),Ye);var en=m(xt),Kn=m(en);{var ll=Ye=>{var Gn=ms();b(Ye,Gn)},ol=Ye=>{var Gn=ys();b(Ye,Gn)};R(Kn,Ye=>{s(X).locked?Ye(ll):Ye(ol,!1)})}var yn=j(xt,2);let ra;yn.__click=Ye=>Z(s(X),Ye),B(()=>{mn=ae(xt,1,"wpea-select2__option-lock",null,mn,{"wpea-select2__option-lock--locked":s(X).locked}),J(xt,"aria-label",s(X).locked?"Unlock":"Lock"),ra=ae(yn,1,"wpea-select2__option-delete",null,ra,{"wpea-select2__option-delete--disabled":s(X).locked}),yn.disabled=s(X).locked,J(yn,"aria-label",`Delete ${s(X).label??""}`)}),b(ft,$t)},Zt=ft=>{var $t=te(),xt=G($t);{var mn=en=>{var Kn=xs();b(en,Kn)};R(xt,en=>{s(X).deletable===!1&&en(mn)},!0)}b(ft,$t)};R(Wn,ft=>{s(X).deletable===!0?ft(Yn):ft(Zt,!1)})}b(Re,kt)},sl=Re=>{var kt=te(),Wn=G(kt);{var Yn=Zt=>{var ft=Cs();b(Zt,ft)};R(Wn,Zt=>{s(w).includes(s(X).value)&&Zt(Yn)},!0)}b(Re,kt)};R(al,Re=>{d()?Re(il):Re(sl,!1)})}B((Re,kt)=>{rt=ae(xe,1,"wpea-select2__option",null,rt,Re),J(xe,"aria-selected",kt),Q(rl,s(X).label)},[()=>({"wpea-select2__option--selected":s(w).includes(s(X).value),"wpea-select2__option--highlighted":We===s(f),"wpea-select2__option--disabled":!s(D)&&!s(w).includes(s(X).value)}),()=>s(w).includes(s(X).value)]),In("mouseenter",xe,()=>S(f,We,!0)),b(pe,xe)},pe=>{var X=te(),We=G(X);{var xe=rt=>{var bn=As();b(rt,bn)};R(We,rt=>{s(k)||rt(xe)})}b(pe,X)});var ke=j(Ve,2);{var He=pe=>{var X=Ls();let We;X.__click=z,X.__keydown=rt=>{(rt.key==="Enter"||rt.key===" ")&&z()};var xe=j(m(X));B(()=>{We=ae(X,1,"wpea-select2__option wpea-select2__option--create",null,We,{"wpea-select2__option--highlighted":s(f)===s(A).length}),Q(xe,` Create "${s(v)??""}"`)}),In("mouseenter",X,()=>S(f,s(A).length,!0)),b(pe,X)};R(ke,pe=>{s(k)&&pe(He)})}B(()=>{J(T,"aria-multiselectable",l()),J(T,"id",h)}),b(E,T)};R(ye,E=>{s(_)&&E(wn)})}_n(nt,E=>p=E,()=>p);var gn=j(nt,2);{var Hn=E=>{var T=Ts(),$=m(T);B(()=>Q($,e.help)),b(E,T)};R(gn,E=>{e.help&&E(Hn)})}B(()=>{jt=ae(nt,1,`wpea-select2 ${s(ut)??""}`,null,jt,{"wpea-select2--open":s(_),"wpea-select2--disabled":i(),"wpea-select2--has-value":s(w).length>0,"wpea-select2--single":!l()}),J(Ie,"aria-controls",h),J(Ie,"aria-expanded",s(_)),J(Ie,"tabindex",i()?-1:0)}),b(t,re),Oe()}yt(["click","keydown"]);var Os=L('<div class="wpea-filterable-list__empty svelte-1rjctk9"> </div>'),Ds=L('<div class="wpea-filterable-list__item svelte-1rjctk9"><!></div>'),Is=L('<div class="wpea-filterable-list svelte-1rjctk9"><div class="wpea-filterable-list__search svelte-1rjctk9"><input type="text" class="wpea-input"/></div> <div class="wpea-filterable-list__items svelte-1rjctk9"><!></div></div>');function Rs(t,e){Pe(e,!0);let n=F(e,"items",19,()=>[]),r=F(e,"placeholder",3,"Search..."),a=F(e,"emptyMessage",3,"No items found"),i=W(""),o=q(()=>n().filter(p=>p.label.toLowerCase().includes(s(i).toLowerCase())||p.value.toString().toLowerCase().includes(s(i).toLowerCase())));var c=Is(),l=m(c),u=m(l),d=j(l,2),_=m(d);{var v=p=>{var g=Os(),h=m(g);B(()=>Q(h,a())),b(p,g)},f=p=>{var g=te(),h=G(g);ot(h,17,()=>s(o),w=>w.value,(w,A)=>{var P=Ds(),D=m(P);{var x=y=>{var C=te(),N=G(C);Le(N,()=>e.children,()=>s(A)),b(y,C)},k=y=>{var C=It();B(()=>Q(C,s(A).label)),b(y,C)};R(D,y=>{e.children?y(x):y(k,!1)})}b(w,P)}),b(p,g)};R(_,p=>{s(o).length===0?p(v):p(f,!1)})}B(()=>J(u,"placeholder",r())),Bn(u,()=>s(i),p=>S(i,p)),b(t,c),Oe()}var Fs=L("<div><!></div>");function Vn(t,e){let n=F(e,"class",3,""),r=q(()=>e.size?`wpea-stack--${e.size}`:"");var a=Fs(),i=m(a);{var o=c=>{var l=te(),u=G(l);Le(u,()=>e.children),b(c,l)};R(i,c=>{e.children&&c(o)})}B(()=>{ae(a,1,`wpea-stack ${s(r)??""} ${n()??""}`),ct(a,e.style)}),b(t,a)}var js=L("<span><!></span>");function Bs(t,e){let n=F(e,"class",3,""),r=q(()=>e.variant?`badge--${e.variant}`:"");var a=js(),i=m(a);{var o=c=>{var l=te(),u=G(l);Le(u,()=>e.children),b(c,l)};R(i,c=>{e.children&&c(o)})}B(()=>{ae(a,1,`badge ${s(r)??""} ${n()??""}`),ct(a,e.style)}),b(t,a)}var Us=L("<div><strong> </strong></div>"),zs=L("<!> <!>",1),qs=L('<p class="wpea-text-muted">Evaluating conditions...</p>'),Vs=L('<p class="wpea-text-muted">No results to display.</p>'),Hs=L('<div style="display: flex; justify-content: space-between; align-items: center; width: 100%;"><div><span style="font-weight: 500;"> </span> <span style="color: var(--wpea-color--text-muted); font-size: 0.875rem; margin-left: var(--wpea-space--xs);"> </span></div> <!></div>'),Ws=L("<!> <!>",1);function Ys(t,e){Pe(e,!0);const{apiUrl:n,nonce:r}=window.abMenuConditionsData;let a=W(0),i=W(ce([])),o=W(ce([])),c=W(!1),l=W(null);ea(()=>{u()}),lt(()=>{e.conditions&&d()});async function u(){try{const g=await(await fetch(`${n}/menu-conditions/users`,{headers:{"X-WP-Nonce":r}})).json();g.success&&S(o,g.users,!0)}catch(p){console.error("Failed to fetch users:",p)}}async function d(){S(c,!0);try{S(i,await e.onEvaluate(e.conditions),!0)}catch(p){console.error("Failed to evaluate conditions:",p)}finally{S(c,!1)}}async function _(p){try{const h=await(await fetch(`${n}/menu-conditions/evaluate-user`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":r},body:JSON.stringify({user_id:p,conditions:e.conditions})})).json();h.success&&S(l,{visible:h.visible,message:h.visible?"This menu item WILL be visible to this user":"This menu item will NOT be visible to this user"},!0)}catch(g){console.error("Failed to evaluate for user:",g)}}lt(()=>{s(a)>0?_(s(a)):S(l,null)});let v=q(()=>s(i).map(p=>({value:p.role,label:p.role_name,visible:p.visible}))),f=q(()=>s(o).map(p=>({value:p.id.toString(),label:`${p.name} (${p.roles.join(", ")})`})));Vn(t,{children:(p,g)=>{var h=Ws(),w=G(h);qn(w,{title:"Test with Specific User",children:(P,D)=>{Vn(P,{children:(x,k)=>{var y=zs(),C=G(y);{let I=q(()=>s(a).toString());Ps(C,{id:"test-user",label:"Select User",get value(){return s(I)},get options(){return s(f)},onchange:M=>S(a,parseInt(M,10),!0),multiple:!1,searchable:!0,clearable:!0,placeholder:"Select a user..."})}var N=j(C,2);{var V=I=>{var M=Us(),z=m(M),Z=m(z);B(()=>{ae(M,1,`user-result ${s(l).visible?"user-result--visible":"user-result--hidden"}`,"svelte-osae4r"),Q(Z,s(l).message)}),b(I,M)};R(N,I=>{s(l)&&I(V)})}b(x,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var A=j(w,2);qn(A,{title:"Results Preview",children:(P,D)=>{Vn(P,{children:(x,k)=>{var y=te(),C=G(y);{var N=I=>{var M=qs();b(I,M)},V=I=>{var M=te(),z=G(M);{var Z=ee=>{var Me=Vs();b(ee,Me)},fe=ee=>{Rs(ee,{get items(){return s(v)},placeholder:"Search roles...",emptyMessage:"No roles found",children:(ut,re=Ct)=>{var me=Hs(),Te=m(me),nt=m(Te),jt=m(nt),Ie=j(nt,2),Bt=m(Ie),Ut=j(Te,2);{let Jt=q(()=>re().visible?"success":"danger");Bs(Ut,{get variant(){return s(Jt)},children:(Qt,O)=>{var U=It();B(()=>Q(U,re().visible?"Visible":"Hidden")),b(Qt,U)},$$slots:{default:!0}})}B(()=>{Q(jt,re().label),Q(Bt,`(${re().value??""})`)}),b(ut,me)},$$slots:{default:!0}})};R(z,ee=>{s(v).length===0?ee(Z):ee(fe,!1)},!0)}b(I,M)};R(C,I=>{s(c)?I(N):I(V,!1)})}b(x,y)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(p,h)},$$slots:{default:!0}}),Oe()}var Ks=L('<div class="wpea-tabs"><div class="wpea-tabs__list" role="tablist"><button class="wpea-tabs__tab" role="tab">Conditions</button> <button class="wpea-tabs__tab" role="tab">Results</button></div></div> <!>',1),Gs=L('<span class="wpea-text-muted wpea-text-sm"> </span>'),Xs=L('<div style="display: flex; justify-content: space-between; width: 100%;"><div><!></div> <div style="display: flex; gap: var(--wpea-space--sm);"><!> <!></div></div>');function Js(t,e){Pe(e,!0);let n=F(e,"open",15,!1),r=F(e,"initialConditions",3,null);const{apiUrl:a,nonce:i}=window.abMenuConditionsData;let o=W("conditions"),c=W("AND"),l=W(ce([]));lt(()=>{n()&&(r()&&r().conditions&&r().conditions.length>0?(S(c,r().relation||"AND",!0),S(l,JSON.parse(JSON.stringify(r().conditions)),!0)):(S(c,"AND"),S(l,[],!0)),S(o,"conditions"))});function u(f){S(l,f,!0)}async function d(){const f={relation:s(c),conditions:s(l)};await e.onSave(f),e.onClose()}async function _(f){try{const g=await(await fetch(`${a}/menu-conditions/evaluate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":i},body:JSON.stringify({conditions:f})})).json();return g.success?g.results:[]}catch(p){return console.error("Failed to evaluate conditions:",p),[]}}let v=q(()=>({relation:s(c),conditions:s(l)}));Ui(t,{size:"large",title:"Menu Item Conditions",get open(){return n()},set open(g){n(g)},children:g=>{var h=Ks(),w=G(h),A=m(w),P=m(A);P.__click=()=>S(o,"conditions");var D=j(P,2);D.__click=()=>S(o,"results");var x=j(w,2);{var k=C=>{vs(C,{get capabilities(){return e.capabilities},onUpdate:u,get conditions(){return s(l)},set conditions(N){S(l,N,!0)},get relation(){return s(c)},set relation(N){S(c,N,!0)}})},y=C=>{Ys(C,{get conditions(){return s(v)},onEvaluate:_})};R(x,C=>{s(o)==="conditions"?C(k):C(y,!1)})}B(()=>{J(P,"aria-selected",s(o)==="conditions"),J(D,"aria-selected",s(o)==="results")}),b(g,h)},footer:g=>{var h=Xs(),w=m(h),A=m(w);{var P=y=>{var C=Gs(),N=m(C);B(()=>Q(N,`${s(l).length??""} condition${s(l).length!==1?"s":""} set`)),b(y,C)};R(A,y=>{s(l).length>0&&y(P)})}var D=j(w,2),x=m(D);pn(x,{variant:"ghost",get onclick(){return e.onClose},children:(y,C)=>{var N=It("Cancel");b(y,N)},$$slots:{default:!0}});var k=j(x,2);pn(k,{variant:"primary",onclick:d,children:(y,C)=>{var N=It("Save Conditions");b(y,N)},$$slots:{default:!0}}),b(g,h)},$$slots:{default:!0,footer:!0}}),Oe()}yt(["click"]);var Qs=L('<div class="wpea-toast__title"> </div>'),Zs=L('<div><div class="wpea-toast__content"><!> <div class="wpea-toast__message"> </div></div> <button class="wpea-toast__close">Ã</button></div>'),$s=L("<div></div>");function el(t,e){Pe(e,!0);let n=F(e,"toasts",31,()=>ce([])),r=F(e,"position",3,"top-right"),a=F(e,"class",3,""),i=ce(new Set);function o(u){i.add(u),setTimeout(()=>{n(n().filter(d=>d.id!==u)),i.delete(u),e.onClose?.(u)},300)}lt(()=>{n().forEach(u=>{if(u.duration){const d=setTimeout(()=>{o(u.id)},u.duration);return()=>clearTimeout(d)}})});let c=q(()=>`wpea-toast-container--${r()}`);var l=$s();ot(l,21,n,u=>u.id,(u,d)=>{const _=q(()=>i.has(s(d).id)),v=q(()=>s(d).variant?`wpea-toast--${s(d).variant}`:"");var f=Zs();let p;var g=m(f),h=m(g);{var w=x=>{var k=Qs(),y=m(k);B(()=>Q(y,s(d).title)),b(x,k)};R(h,x=>{s(d).title&&x(w)})}var A=j(h,2),P=m(A),D=j(g,2);D.__click=()=>o(s(d).id),B(()=>{p=ae(f,1,`wpea-toast ${s(v)??""}`,null,p,{"wpea-toast--closing":s(_)}),Q(P,s(d).message)}),b(u,f)}),B(()=>{ae(l,1,`wpea-toast-container ${s(c)??""} ${a()??""}`),ct(l,e.style)}),b(t,l),Oe()}yt(["click"]);var tl=L("<!> <!>",1);function nl(t,e){Pe(e,!0);const{apiUrl:n,nonce:r}=window.abMenuConditionsData;let a=W(!1),i=W(0),o=W(null),c=W(ce([])),l=W(ce([]));ea(()=>{u(),d();const x=()=>{console.log("menu-conditions-buttons-added event received"),d()};return document.addEventListener("menu-conditions-buttons-added",x),()=>{document.removeEventListener("menu-conditions-buttons-added",x)}});async function u(){try{const k=await(await fetch(`${n}/menu-conditions/capabilities`,{headers:{"X-WP-Nonce":r}})).json();k.success&&S(c,k.capabilities,!0)}catch(x){console.error("Failed to fetch capabilities:",x),h("Failed to load capabilities","danger")}}function d(){const x=document.querySelectorAll(".ab-menu-conditions-button");console.log("Attaching listeners to",x.length,"buttons"),x.forEach(k=>{k.addEventListener("click",_)})}async function _(x){const k=x.currentTarget,y=parseInt(k.dataset.menuItemId||"0",10);try{const N=await(await fetch(`${n}/menu-conditions/item/${y}`,{headers:{"X-WP-Nonce":r}})).json();N.success?v(y,N.conditions):h("Failed to load conditions","danger")}catch(C){console.error("Failed to fetch conditions:",C),h("Failed to load conditions","danger")}}function v(x,k){S(i,x,!0),k&&k.conditions&&Array.isArray(k.conditions)?S(o,{relation:k.relation||"AND",conditions:k.conditions},!0):S(o,{relation:"AND",conditions:[]},!0),S(a,!0)}function f(){S(a,!1),S(i,0),S(o,null)}async function p(x){try{const y=await(await fetch(`${n}/menu-conditions/item/${s(i)}`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":r},body:JSON.stringify(x)})).json();y.success?(h("Conditions saved successfully","success"),g(s(i),y.conditions),typeof wp<"u"&&wp.customize&&(wp.customize.state("saved").set(!1),console.log("Marked Customizer as having unsaved changes"))):h("Failed to save conditions","danger")}catch(k){console.error("Failed to save conditions:",k),h("Error saving conditions","danger")}}function g(x,k){const y=document.querySelector(`.ab-menu-conditions-button[data-menu-item-id="${x}"]`),C=k.conditions&&k.conditions.length>0;if(y){y.setAttribute("data-conditions",JSON.stringify(k)),C?y.classList.add("has-conditions"):y.classList.remove("has-conditions");let V=y.querySelector(".ab-conditions-indicator");if(C){if(!V){const I=document.createElement("span");I.className="ab-conditions-indicator",I.textContent="â",I.style.color="#2271b1",I.style.marginLeft="4px";const M=y.querySelector("span");M&&M.appendChild(I)}}else V&&V.remove()}const N=document.querySelector(`#customize-control-nav_menu_item-${x}`);if(N){const V=N.querySelector(".menu-item-handle");V&&(C?V.classList.add("has-menu-conditions"):V.classList.remove("has-menu-conditions"))}}function h(x,k="success"){const y=`toast-${Date.now()}`;S(l,[...s(l),{id:y,message:x,variant:k,duration:3e3}],!0)}var w=tl(),A=G(w);{var P=x=>{Js(x,{get menuItemId(){return s(i)},get initialConditions(){return s(o)},get capabilities(){return s(c)},onClose:f,onSave:p,get open(){return s(a)},set open(k){S(a,k,!0)}})};R(A,x=>{s(a)&&x(P)})}var D=j(A,2);el(D,{position:"top-right",get toasts(){return s(l)},set toasts(x){S(l,x,!0)}}),b(t,w),Oe()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",na):na();function na(){const t=document.createElement("div");t.id="ab-menu-conditions-app",document.body.appendChild(t),hi(nl,{target:t})}})();
